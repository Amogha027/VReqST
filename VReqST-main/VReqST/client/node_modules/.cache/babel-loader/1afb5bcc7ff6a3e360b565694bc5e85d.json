{"ast":null,"code":"var _jsxFileName = \"/home/amogha/btp/VReqST-e2220b1081924feff8bfe2cc9e536fbceae8bc39/VReqST-main/VReqST/client/src/Components/Project/ProjectPageContent.jsx\";\nimport { Box, Button, Divider, Flex, Grid, GridItem, Heading, Input, List, ListIcon, ListItem, Modal, ModalBody, ModalCloseButton, ModalContent, ModalFooter, ModalOverlay, Select, Spinner, Stack, Tag, Text, Tooltip, useDisclosure, useToast, Tabs, TabList, TabPanels, Tab, TabPanel, FormControl, Textarea, VStack } from \"@chakra-ui/react\";\nimport Axios from \"axios\";\nimport React, { useEffect, useState } from \"react\";\nimport AceEditor from \"react-ace\";\nimport { FaExclamationCircle, FaFileAlt } from \"react-icons/fa\";\nimport { BiDownload } from \"react-icons/bi\";\nimport { CheckCircleIcon } from \"@chakra-ui/icons\";\nimport { useParams } from \"react-router-dom\";\nimport { DndProvider } from 'react-dnd';\nimport isJson from \"../../utils/checkjson\";\nimport e from \"cors\";\nimport semantics from \"../../utils/syntax.json\";\nlet errors = [];\nlet rules = [];\nlet valid_rule = [];\nlet grammarDataArray = [];\nlet flag = false;\nlet fl = false;\nconst tipcolors = {\n  number: \"orange\",\n  object: \"green\",\n  boolean: \"red\",\n  string: \"yellow\",\n  array: \"blue\"\n};\n\nconst jsonValidator = (grammar, validating) => {\n  const keys = Object.keys(grammar);\n  const keys22 = Object.keys(validating);\n  const grammarArray = Object.keys(grammar).filter(value => !Object.keys(validating).includes(value));\n  const extraEntries = Object.keys(validating).filter(value => !Object.keys(grammar).includes(value));\n  extraEntries.map(en => {\n    let app = 1;\n\n    for (let i = 0; i < keys.length; i++) {\n      if (keys[i] === en || grammar[keys[i]].root === en || grammar[keys[i]].proot === en) app = 0;\n    }\n\n    if (app) {\n      errors.push(`\"${en}\" is invalid key in the JSON`);\n    }\n  });\n  grammarArray.map(en => {\n    let app = 1;\n\n    for (let i = 0; i < keys22.length; i++) {\n      if (en === keys22[i] || grammar[en].root === keys22[i] || grammar[en].proot === keys22[i]) {\n        app = 0;\n      }\n    }\n\n    if (app === 1) {\n      errors.push(`\"${en}\" is a mandatory field! Please add the field with ${grammar[en].typeof} type`);\n    }\n  });\n\n  for (let i = 0; i < keys.length; i++) {\n    var key = keys[i];\n\n    if (grammar[key].hasOwnProperty('proot')) {\n      let a = validating[grammar[key].proot];\n\n      for (let i = 0; i < a.length; i++) {\n        let c = a[i];\n\n        if (c.hasOwnProperty(grammar[key].root)) {\n          if (typeof c[grammar[key].root][key] === grammar[key].typeof) {} else {\n            if (typeof c[grammar[key].root][key] === \"undefined\") {\n              errors.push(`\"${key}\" is a mandatory field! Please add the field with ${grammar[key].typeof} type`);\n            } else {\n              errors.push(` \"${key}\" has an invalid type of '${typeof c[grammar[key].root][key]}'. Expected type of ${grammar[key].typeof}`);\n            }\n          }\n        }\n      }\n    } else if (grammar[key].hasOwnProperty('repeat') && grammar[key].repeat === \"allow\") {\n      let a = grammar[key].root;\n      var obje = Object.keys(validating);\n      let found = obje.indexOf(a);\n\n      if (typeof validating[a] === \"object\") {\n        for (let i = 0; i < validating[a].length; i++) {\n          if (typeof validating[a][i][key] === grammar[key].typeof || typeof validating[a][i][key] === \"object\" && grammar[key].typeof === \"array\") {} else {\n            if (typeof validating[a][i][key] === \"undefined\") {\n              errors.push(`\"${key}\" is a mandatory field! Please add the field with ${grammar[key].typeof} type`);\n            } else {\n              errors.push(` \"${key}\" has an invalid type of '${typeof validating[a][i][key]}'. Expected type of ${grammar[key].typeof}`);\n            }\n          }\n        }\n      }\n    } else {\n      if (grammar[key].root === 'null' || grammar[key].root === 'undefined' || !grammar[key].hasOwnProperty('root')) {\n        if (typeof validating[key] === \"undefined\") {\n          continue;\n        } // Handling nested objects recursively\n\n\n        if (typeof validating[key] === \"object\" && grammar[key].typeof === \"object\") {\n          continue;\n        }\n\n        if (typeof validating[key] !== grammar[key].typeof) {\n          errors.push(` \"${key}\" has an invalid type of '${typeof validating[key]}'. Expected type of ${grammar[key].typeof}`);\n        } else {// alert(\"sucess\");\n        }\n\n        if (typeof validating[key] === \"string\" && typeof validating[key] === grammar[key].typeof && grammar[key].req === \"mandatory\" && validating[key].length === 0) {\n          errors.push(`\"${key}\" is mandatory, empty string is not allowed`);\n        }\n      } else {\n        let a = grammar[key].root;\n\n        if (false) {\n          for (let i = 0; i < validating[a].length; i++) {\n            if (typeof validating[a][i].key === grammar[key].typeof) {\n              alert(\"Sucess\");\n            } else {\n              //alert(\"Failure\");\n              //errors.push(\"kindly see the json syntax\");\n              errors.push(`\"${key}\" has invalid type, expected \"${grammar[key].typeof}\"`);\n            }\n          }\n        } else {\n          var b = validating[a]; //alert(a);\n\n          let c = Object.keys(b);\n          let found = c.indexOf(key);\n\n          if (typeof validating[a][c[found]] === grammar[key].typeof || typeof validating[a][c[found]] === \"object\" && grammar[key].typeof === \"array\") {//alert(\"Sucess!!!!!!\");\n          } else {\n            if (typeof validating[a][c[found]] === \"undefined\") {\n              errors.push(`\"${key}\" is a mandatory field! Please add the field with ${grammar[key].typeof} type`);\n            } else {\n              errors.push(` \"${key}\" has an invalid type of '${typeof validating[a][c[found]]}'. Expected type of ${grammar[key].typeof}`);\n            }\n          }\n        }\n      }\n    }\n  }\n\n  if (errors.length > 0) {\n    console.log(errors);\n    return true;\n  }\n\n  return false;\n};\n\nconst ProjectPageContent = ({\n  stepslen,\n  nextStep,\n  prevStep,\n  reset,\n  activeStep,\n  scene,\n  action,\n  asset,\n  projectname,\n  timeline,\n  custom\n}) => {\n  const toast = useToast();\n  const {\n    projectid\n  } = useParams();\n  const jwttoken = localStorage.getItem(\"jwtToken\");\n  let [val, setValue] = React.useState(\"\");\n  const [files, setfiles] = useState([]);\n  const [loading, setLoading] = useState(false);\n  const [submitting, setSubmitting] = useState(false);\n  const [data, setdata] = useState(\"\");\n  const [grammarid, setGrammarid] = useState(\"\");\n  const [validated, setValidated] = useState(false);\n  const [grammarbundle, setGrammarbundle] = useState({});\n  const [displayErrors, setDisplayErrors] = useState([]);\n  const [rule_list, setRuleList] = useState([]);\n  const [rule, setRule] = useState({});\n  const [downloadable, setDownloadable] = useState(false);\n  const {\n    isOpen,\n    onOpen,\n    onClose\n  } = useDisclosure();\n  const [description, setDescription] = useState(\"\");\n  const [perdata, setPerdata] = useState(\"\");\n  const [seed, setSeed] = useState(0);\n  const [rulename, setRulename] = useState(\"\");\n  const [textPointer, setTextPointer] = useState({\n    \"row\": 0,\n    \"column\": 0\n  });\n  const [position, setPosition] = useState(0);\n  const [savebutton, setSavebutton] = useState(false);\n\n  const convertPointer = (pointer, lines) => {\n    let pos = 0;\n\n    for (let i = 0; i <= pointer.row - 1; i++) {\n      pos += lines[i].length;\n      if (lines[i].length === 0) pos += 1;\n    }\n\n    pos += pointer.column;\n    if (pointer.column === 0) pos += 1;\n    setPosition(pos);\n  };\n\n  const getFiles = async () => {\n    try {\n      const requestOptions = {\n        headers: {\n          \"Content-Type\": \"application/json\",\n          token: jwttoken\n        }\n      };\n      const res = await Axios.get(`http://localhost:5002/api/json/timeline`, requestOptions);\n      const requestOption = {\n        headers: {\n          \"Content-Type\": \"application/json\",\n          token: jwttoken\n        }\n      };\n      const res2 = await Axios.get(`http://localhost:5002/api/project/${projectid}/grammarName`, requestOption);\n      setfiles(res.data);\n      res.data.map(p => {\n        if (p.name == res2.data.grammarName) {\n          if (grammarDataArray.length != 5) {\n            grammarDataArray.push(p.scene);\n            grammarDataArray.push(p.asset);\n            grammarDataArray.push(p.action);\n            grammarDataArray.push(p.custom);\n            grammarDataArray.push(p.timeline);\n          }\n        }\n      });\n    } catch (error) {\n      toast({\n        title: \"Something went wrong 1\",\n        //Goes wrong\n        status: \"error\",\n        duration: 10000,\n        isClosable: true,\n        position: \"top\"\n      });\n      console.log(error);\n    }\n  };\n\n  const getRules = async () => {\n    const res_rules = await Axios.post(\"http://localhost:5002/api/custom/get-custom-rules\", {\n      headers: {\n        \"Content-Type\": \"application/json\",\n        token: jwttoken\n      },\n      data: {\n        project_id: projectid\n      }\n    });\n    setRuleList(res_rules.data);\n  };\n\n  useEffect(() => {\n    setLoading(true);\n    getFiles();\n    getRules();\n\n    if (activeStep == 0) {\n      setdata(scene);\n      getFiles();\n      fl = false;\n\n      if (isJson(scene)) {\n        setDownloadable(true);\n      }\n    }\n\n    if (activeStep == 1) {\n      setdata(asset);\n      fl = false;\n\n      if (isJson(asset)) {\n        setDownloadable(true);\n      }\n    }\n\n    if (activeStep == 2) {\n      setdata(action);\n      fl = false;\n\n      if (isJson(action)) {\n        setDownloadable(true);\n      }\n    }\n\n    if (activeStep == 3) {\n      // setdata(custom);\n      fl = false;\n\n      if (isJson(custom)) {\n        setDownloadable(true);\n      }\n    }\n\n    if (activeStep == 4) {\n      setdata(timeline);\n      fl = false;\n\n      if (isJson(timeline)) {\n        setDownloadable(true);\n      }\n    }\n\n    setLoading(false);\n  }, []);\n\n  const downloadTxtFile = () => {\n    if (data === \"\" || !isJson(data)) {\n      toast({\n        title: \"JSON Syntax is not correct\",\n        status: \"error\",\n        duration: 5000,\n        isClosable: true,\n        position: \"top-right\"\n      });\n      setDownloadable(false);\n      return;\n    }\n\n    let fileName = \"\";\n    if (activeStep === 0) fileName = \"scene\";\n    if (activeStep === 1) fileName = \"asset\";\n    if (activeStep === 2) fileName = \"action\";\n    if (activeStep === 3) fileName = \"custom\";\n    if (activeStep === 4) fileName = \"timeline\";\n    const json = data;\n    const blob = new Blob([json], {\n      type: \"application/json\"\n    });\n    const href = URL.createObjectURL(blob);\n    const downlink = document.createElement(\"a\");\n    downlink.href = href;\n    downlink.download = projectname + \"-\" + fileName + \".json\";\n    document.body.appendChild(downlink);\n    downlink.click(); // clean up \"a\" element & remove ObjectURL\n\n    document.body.removeChild(downlink);\n    URL.revokeObjectURL(href);\n  };\n\n  let handleInputChange = e => {\n    let inputValue = e.target.value;\n    setValue(inputValue);\n  };\n\n  let asset_valid = (asset, asset_list, flag) => {\n    // if flag is zero, dont print any errors\n    let valid_obj = false;\n    asset_list.map((d, j) => {\n      if (asset === d) valid_obj = true; // if(c.targetObj == d)\n      //   valid_target = true;\n    });\n\n    if (valid_obj === false) {\n      setValidated(false);\n      setDownloadable(false);\n\n      if (flag) {\n        toast({\n          title: \"Object \" + asset + \" is not listed in Asset JSON. Only assets present in Asset JSON are valid.\" + asset + \"  \" + asset_list,\n          status: \"warning\",\n          duration: 5000,\n          isClosable: true,\n          position: \"top-right\"\n        });\n      }\n\n      return -1;\n    }\n\n    return 1;\n  };\n\n  let assetValidator = (a, all_object_ids) => {\n    a.map((c, i) => {\n      let ret1 = asset_valid(c.sourceObj, all_object_ids, 1);\n      let ret2;\n\n      if (c.targetObj[c.targetObj.length - 1] === '*') {\n        ret2 = 1;\n      } else ret2 = asset_valid(c.targetObj, all_object_ids, 1);\n\n      if (ret1 === -1) {\n        return false;\n      }\n\n      if (c.repeatactionfor !== null && c.repeatactionfor.length !== 0 && c.repeatactionfor[0] !== \" \") {\n        let repeat_assets = [];\n        let curr_word = \"\";\n        Array.from(c.repeatactionfor).map((char, key) => {\n          if (char === ',' || char === ' ') {\n            if (curr_word !== \"\" && curr_word !== \" \" && curr_word.length !== 0) {\n              repeat_assets.push(curr_word);\n              curr_word = \"\";\n            }\n          } else curr_word = curr_word + char;\n        });\n        if (curr_word != \"\" || curr_word != \" \" || curr_word.length != 0) repeat_assets.push(curr_word);\n        repeat_assets.map((word, key) => {\n          let ret = asset_valid(word, all_object_ids, 1);\n\n          if (ret === -1) {\n            return false;\n          }\n        });\n\n        if (ret2 === -1 && c.targetObj[c.targetObj.length - 1] !== \"*\") {\n          toast({\n            title: \"Please update the Target Object according to the reccomendations in the document.\",\n            status: \"warning\",\n            duration: 5000,\n            isClosable: true,\n            position: \"top-right\"\n          });\n          return false;\n        } else {\n          if (asset_valid(c.targetObj, repeat_assets, 0) === 1) {\n            toast({\n              title: \"Target object should not be a part of repeatactionfor.\",\n              status: \"warning\",\n              duration: 5000,\n              isClosable: true,\n              position: \"top-right\"\n            });\n            return false;\n          }\n        }\n      }\n    });\n    return true;\n  };\n\n  let onValidate2 = async () => {\n    toast({\n      title: \"Validation successfull\",\n      status: \"success\",\n      duration: 5000,\n      isClosable: true,\n      position: \"top-right\"\n    });\n    valid_rule.push({\n      rulename: rulename,\n      data_name: data,\n      description: description\n    });\n    setDownloadable(true);\n    setSavebutton(true);\n  };\n\n  const onValidate = async () => {\n    if (!isJson(data)) {\n      setValidated(false);\n      setDownloadable(false);\n      toast({\n        title: \"JSON Syntax is not correct\",\n        status: \"error\",\n        duration: 5000,\n        isClosable: true,\n        position: \"top-right\"\n      });\n      return;\n    }\n\n    setDisplayErrors([]);\n    errors = [];\n    var myjson = JSON.parse(data); // console.log(myjson);\n    // try {\n    //   if (activeStep == 2) {\n    //     try {\n    //       {\n    //         rules = myjson.objlist;\n    //         var a = myjson.ObjAction;\n    //         //console.log(a[0]);\n    //         //alert(a[0]);\n    //         for (let i = 0; i < a.length; i++) {\n    //           var c = a[i].actresid;\n    //           //  console.log(c);\n    //           flag = true;\n    //           rules.push(c);\n    //         }\n    //       }\n    //     }\n    //     catch (e) {\n    //       console.log(e);\n    //       setValidated(false);\n    //       setDownloadable(false);\n    //     }\n    //   }\n    // }\n    // catch {\n    //   console.log(e);\n    // }\n    // if (grammarDataArray.length === 0) {\n    //   await getfiles();\n    //   //var temp=Object.keys(grammarDataArray);\n    //   // console.log(grammarDataArray);\n    // }\n    // console.log(grammarDataArray[0]);\n\n    try {\n      var mygrm = \"\";\n      if (activeStep == 0) mygrm = JSON.parse(grammarDataArray[0]);else if (activeStep == 1) mygrm = JSON.parse(grammarDataArray[1]);else if (activeStep == 2) mygrm = JSON.parse(grammarDataArray[2]);else if (activeStep == 3) mygrm = JSON.parse(grammarDataArray[3]);else if (activeStep == 4) mygrm = JSON.parse(grammarDataArray[4]);\n    } catch (e) {\n      console.log(e);\n    }\n\n    try {\n      // console.log(\"I am trying:\", activeStep);\n      if (activeStep == 2) {\n        try {\n          {\n            // console.log(\"Shambhaviiiiiiiiiiii\");\n            let all_object_ids = [];\n            const myobjs = JSON.parse(asset);\n            myobjs.articles.map((c, i) => {\n              all_object_ids.push(c._sid);\n            }); // console.log(all_object_ids);\n\n            var a = myjson.ObjAction;\n\n            for (let i = 0; i < a.length; i++) {\n              var c = a[i].actresid;\n              flag = true;\n\n              if (c) {\n                rules.push(c);\n              }\n            }\n          }\n        } catch (e) {\n          console.log(e);\n          setValidated(false);\n          setDownloadable(false);\n          toast({\n            title: \"There are errors in the entered JSON, please check them out! Caught error\",\n            status: \"warning\",\n            duration: 5000,\n            isClosable: true,\n            position: \"top-right\"\n          });\n          return;\n        }\n      } else if (activeStep == 1) {\n        try {\n          {\n            var a = myjson.articles; //console.log(a[0]);\n            //alert(a[0]);\n\n            for (let i = 0; i < a.length; i++) {\n              var c = a[i]._objectname; //  console.log(c);\n\n              flag = true;\n\n              if (c) {\n                rules.push(c);\n              }\n            }\n          }\n        } catch (e) {\n          console.log(e);\n          setValidated(false);\n          setDownloadable(false);\n          toast({\n            title: \"There are errors in the entered JSON, please check them out!\",\n            status: \"warning\",\n            duration: 5000,\n            isClosable: true,\n            position: \"top-right\"\n          });\n          return;\n        }\n      }\n    } catch {\n      console.log(e);\n    }\n\n    if (grammarDataArray.length === 0) {\n      await getFiles();\n    }\n\n    try {\n      let mygrm = \"\";\n      if (activeStep == 0) mygrm = JSON.parse(grammarDataArray[0]);else if (activeStep == 1) mygrm = JSON.parse(grammarDataArray[1]);else if (activeStep == 2) mygrm = JSON.parse(grammarDataArray[2]);else if (activeStep == 3) mygrm = JSON.parse(grammarDataArray[3]);else if (activeStep == 4) mygrm = JSON.parse(grammarDataArray[4]);\n\n      if (!jsonValidator(mygrm, myjson)) {\n        if (activeStep === 2) {\n          let all_object_ids = [];\n          const myobjs = JSON.parse(asset);\n          myobjs.articles.map((c, i) => {\n            all_object_ids.push(c._sid);\n          }); // console.log(all_object_ids);\n\n          const ret_asset = assetValidator(myjson.ObjAction, all_object_ids); // console.log(ret_asset);\n\n          if (!ret_asset) {\n            console.log(errors);\n            toast({\n              title: \"There are errors in the entered JSON, please check them out!\",\n              status: \"warning\",\n              duration: 5000,\n              isClosable: true,\n              position: \"top-right\"\n            });\n            return;\n          } else {\n            setValidated(true);\n            setDownloadable(true);\n            toast({\n              title: \"JSON Validated Successfully\",\n              status: \"success\",\n              duration: 5000,\n              isClosable: true,\n              position: \"top-right\"\n            });\n          }\n        } else {\n          setValidated(true);\n          setDownloadable(true);\n          toast({\n            title: \"JSON Validated Successfully\",\n            status: \"success\",\n            duration: 5000,\n            isClosable: true,\n            position: \"top-right\"\n          });\n        }\n      } else {\n        console.log(errors);\n        toast({\n          title: \"There are errors in the entered JSON, please check them out!\",\n          status: \"warning\",\n          duration: 5000,\n          isClosable: true,\n          position: \"top-right\"\n        });\n      } // console.log(typeof errors);\n\n\n      setDisplayErrors(errors);\n    } catch (e) {\n      console.log(e);\n      toast({\n        title: \"There are errors in the entered JSON, please check them out!\",\n        status: \"warning\",\n        duration: 5000,\n        isClosable: true,\n        position: \"top-right\"\n      });\n    }\n  }; // const onChangeFile = async (e) => {\n  //   setGrammarid(e.target.value);\n  //   if (!e.target.value) {\n  //     setGrammarData({});\n  //     return;\n  //   }\n  //   try {\n  //     const requestOptions = {\n  //       headers: { \"Content-Type\": \"application/json\", token: jwttoken },\n  //     };\n  //     const res = await Axios.get(\n  //       `http://localhost:5002/api/json/${e.target.value}`,\n  //       requestOptions\n  //     );\n  //     const grammarjson = JSON.parse(res.data.data);\n  //     setGrammarData(grammarjson);\n  //   } catch (error) {\n  //     toast({\n  //       title: \"Something went wrong 4\",\n  //       status: \"error\",\n  //       duration: 10000,\n  //       isClosable: true,\n  //       position: \"top\",\n  //     });\n  //     console.log(error);\n  //   }\n  // };\n  // const onChangeFile = async (e) => {\n  //   setGrammarid(e.target.value);\n  //   if (!e.target.value) {\n  //     // setGrammarData({});\n  //     return;\n  //   }\n  //   try {\n  //     //   if(activeStep==0) setGrammarData\n  //     //   if(activeStep==0) setGrammarData(grammarbundle.scene)\n  //     //  else if(activeStep==1) setGrammarData(grammarbundle.asset)\n  //     //  else if(activeStep==2) setGrammarData(grammarbundle.action)\n  //     //  else if(activeStep==3) setGrammarData(grammarbundle.custom)\n  //     //  else if(activeStep==4) setGrammarData(grammarbundle.timeline)\n  //   } catch (error) {\n  //     toast({\n  //       title: \"Something went wrong 4\",\n  //       status: \"error\",\n  //       duration: 10000,\n  //       isClosable: true,\n  //       position: \"top\",\n  //     });\n  //     console.log(error);\n  //   }\n  // };\n\n\n  const showValidateHandler = async () => {\n    let code = data;\n    let jsonData = JSON.stringify({\n      types: [{\n        type: \"if\",\n        order: [[\"condition\"], [\"scope\"]]\n      }, {\n        type: \"else\",\n        prev: [\"if\", \"else-if\"],\n        order: [[\"scope\"]]\n      }, {\n        type: \"else-if\",\n        prev: [\"if\", \"else-if\"],\n        order: [[\"condition\"], [\"scope\"]]\n      }, {\n        type: \"switch\",\n        order: [[\"condition\"], [\"scope\", [\"Case\"], [\"Default\"]]]\n      }, {\n        type: \"switch-case\",\n        order: [[\"condition\"], [\"scope\"]]\n      }, {\n        type: \"switch-case-default\",\n        order: [[\"scope\"]]\n      }, {\n        type: \"for\",\n        order: [[\"condition\", [\"conditionSeparator\", \"conditionSeparator\"]], [\"scope\"]]\n      }, {\n        type: \"while\",\n        order: [[\"condition\"], [\"scope\"]]\n      }, {\n        type: \"do\",\n        order: [[\"scope\"]],\n        next: [\"do-while\"]\n      }, {\n        type: \"do-while\",\n        order: [[\"condition\"]],\n        prev: [\"do\"]\n      }],\n      constructs: [{\n        name: \"if\",\n        type: \"if\",\n        conditionStart: \"(\",\n        conditionEnd: \")\",\n        scopeStart: \"(\",\n        scopeEnd: \")\"\n      }, {\n        name: \"else-if\",\n        type: \"else-if\",\n        conditionStart: \"(\",\n        conditionEnd: \")\",\n        scopeStart: \"(\",\n        scopeEnd: \")\",\n        pre: [\"if\", \"else-if\"]\n      }, {\n        name: \"else\",\n        type: \"else\",\n        scopeStart: \"(\",\n        scopeEnd: \")\",\n        pre: [\"if\", \"else-if\"]\n      }, {\n        name: \"switch\",\n        type: \"switch\",\n        conditionStart: \"(\",\n        conditionEnd: \")\",\n        body: \"Case\",\n        scopeStart: \"(\",\n        scopeEnd: \")\",\n        \"end-body\": \"default\"\n      }, {\n        name: \"Case\",\n        type: \"switch-case\",\n        conditionStart: \"(\",\n        conditionEnd: \")\",\n        scopeStart: \"(\",\n        scopeEnd: \")\",\n        parent: \"switch\"\n      }, {\n        name: \"Default\",\n        type: \"switch-case-default\",\n        scopeStart: \"(\",\n        scopeEnd: \")\",\n        parent: \"switch\"\n      }, {\n        name: \"for\",\n        type: \"for\",\n        conditionStart: \"(\",\n        conditionEnd: \")\",\n        conditionSeparator: \"/\",\n        scopeStart: \"(\",\n        scopeEnd: \")\"\n      }, {\n        name: \"while\",\n        type: \"while\",\n        conditionStart: \"(\",\n        conditionEnd: \")\",\n        scopeStart: \"(\",\n        scopeEnd: \")\"\n      }, {\n        name: \"do\",\n        type: \"do\",\n        scopeStart: \"(\",\n        scopeEnd: \")\",\n        next: \"do-while\"\n      }, {\n        name: \"do-while\",\n        type: \"do-while\",\n        conditionStart: \"(\",\n        conditionEnd: \")\"\n      }],\n      specialSymbols: [\"#\", \":\", \"!\", \"/\", \"(\", \")\"]\n    });\n    fetch(`http://localhost:5001/api/upload`, {\n      headers: {\n        'Accept': 'application/json, text/plain, */*',\n        'Content-Type': 'application/json'\n      },\n      method: \"POST\",\n      body: JSON.stringify({\n        jsonData\n      })\n    }).then(response => {\n      response.json().then(val => {\n        console.log(\"Uploaded\");\n        console.log(val);\n      }).catch(err => {\n        console.log(err);\n      });\n    }).catch(err => {\n      console.log(err);\n    });\n    fetch(`http://localhost:5001/api/process`, {\n      headers: {\n        'Accept': 'application/json, text/plain, */*',\n        'Content-Type': 'application/json'\n      },\n      method: \"POST\",\n      body: JSON.stringify({\n        code\n      })\n    }).then(response => {\n      response.json().then(val => {\n        if (val.valid) {\n          onValidate2();\n        } else {\n          setValidated(false);\n          setDownloadable(false);\n          toast({\n            title: \"Error! Please follow conditional syntax.\",\n            status: \"error\",\n            duration: 5000,\n            isClosable: true,\n            position: \"top-right\"\n          });\n          return;\n        }\n      }).catch(err => {\n        console.log(err);\n      });\n    }).catch(err => {\n      console.log(err);\n    });\n  };\n\n  const handleValidateButton = () => {\n    showValidateHandler(true);\n    setValidated(true);\n  };\n\n  const saveButton = async () => {\n    // console.log(\"saving\");\n    try {\n      const res = await Axios.post(\"http://localhost:5002/api/custom/upload-custom-rule\", {\n        headers: {\n          \"Content-Type\": \"application/json\",\n          token: jwttoken\n        },\n        data: {\n          project_id: projectid,\n          rulename: rulename,\n          data_name: btoa(data),\n          description: description\n        }\n      });\n      toast({\n        title: \"Behaviour Added\",\n        status: \"success\",\n        duration: 5000,\n        isClosable: true,\n        position: \"top-right\"\n      });\n      const res_rules = await Axios.post(\"http://localhost:5002/api/custom/get-custom-rules\", {\n        headers: {\n          \"Content-Type\": \"application/json\",\n          token: jwttoken\n        },\n        data: {\n          project_id: projectid\n        }\n      });\n      setRuleList(res_rules.data);\n      setdata('');\n      setRulename('');\n      setDescription('');\n      setValidated(false);\n    } catch (err) {\n      console.log(err);\n    }\n  };\n\n  const flushButton = () => {\n    console.log('flushed everything!');\n    setValidated(false);\n    setdata('');\n    setRulename('');\n    setDescription('');\n  };\n\n  const onNextStep = async () => {\n    if (!isJson(data) && activeStep !== 3) {\n      setValidated(false);\n      toast({\n        title: \"JSON Syntax is not correct\",\n        status: \"error\",\n        duration: 5000,\n        isClosable: true,\n        position: \"top\"\n      });\n      return;\n    }\n\n    setSubmitting(true);\n    let url = \"\";\n    if (activeStep === 0) url = `http://localhost:5002/api/project/${projectid}/scene`;else if (activeStep === 1) url = `http://localhost:5002/api/project/${projectid}/asset`;else if (activeStep === 2) url = `http://localhost:5002/api/project/${projectid}/action`;else if (activeStep === 3) url = `http://localhost:5002/api/project/${projectid}/custom`;else if (activeStep === 4) url = `http://localhost:5002/api/project/${projectid}/timeline`;\n\n    try {\n      const requestOptions = {\n        headers: {\n          \"Content-Type\": \"application/json\",\n          token: jwttoken\n        }\n      };\n      const res = await Axios.patch(url, {\n        data\n      }, requestOptions);\n      toast({\n        title: res.data.message,\n        status: \"success\",\n        duration: 5000,\n        isClosable: true,\n        position: \"top-right\"\n      });\n    } catch (error) {\n      toast({\n        title: \"Something went wrong 3\",\n        status: \"error\",\n        duration: 10000,\n        isClosable: true,\n        position: \"top\"\n      });\n      console.log(error);\n    }\n\n    setSubmitting(false);\n    nextStep();\n  };\n\n  const handel_name = e => {\n    setRulename(e.target.value);\n  };\n\n  const handel_description = e => {\n    setDescription(e.target.value);\n  };\n\n  const onFinish = async () => {\n    if (!isJson(data)) {\n      setValidated(false);\n      toast({\n        title: \"JSON Syntax is not correct\",\n        status: \"error\",\n        duration: 5000,\n        isClosable: true,\n        position: \"top\"\n      });\n      return;\n    }\n\n    setSubmitting(true);\n    let url = \"\";\n    if (activeStep === 0) url = `http://localhost:5002/api/project/${projectid}/scene`;else if (activeStep === 1) url = `http://localhost:5002/api/project/${projectid}/asset`;else if (activeStep === 2) url = `http://localhost:5002/api/project/${projectid}/action`;else if (activeStep === 3) url = `http://localhost:5002/api/project/${projectid}/custom`;else if (activeStep === 4) url = `http://localhost:5002/api/project/${projectid}/timeline`;\n\n    try {\n      const requestOptions = {\n        headers: {\n          \"Content-Type\": \"application/json\",\n          token: jwttoken\n        }\n      };\n      const res = await Axios.patch(url, {\n        data\n      }, requestOptions);\n      toast({\n        title: res.data.message,\n        status: \"success\",\n        duration: 5000,\n        isClosable: true,\n        position: \"top-right\"\n      });\n    } catch (error) {\n      toast({\n        title: \"Something went wrong 2\",\n        status: \"error\",\n        duration: 10000,\n        isClosable: true,\n        position: \"top\"\n      });\n      console.log(error);\n    }\n\n    setSubmitting(false);\n    onOpen();\n  };\n\n  return loading ? React.createElement(React.Fragment, null, React.createElement(Flex, {\n    width: \"80vw\",\n    height: \"90vh\",\n    justifyContent: \"center\",\n    alignItems: \"center\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1191\n    },\n    __self: this\n  }, React.createElement(Spinner, {\n    thickness: \"4px\",\n    speed: \"0.65s\",\n    emptyColor: \"gray.200\",\n    color: \"blue.500\",\n    size: \"xl\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1197\n    },\n    __self: this\n  }))) : React.createElement(React.Fragment, null, activeStep !== 3 ? React.createElement(Grid, {\n    templateColumns: \"repeat(6, 1fr)\",\n    gap: 4,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1209\n    },\n    __self: this\n  }, React.createElement(GridItem, {\n    rowSpan: 3,\n    colSpan: 1,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1210\n    },\n    __self: this\n  }, React.createElement(Flex, {\n    flexDir: \"column\",\n    pr: 20,\n    pt: 120,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1211\n    },\n    __self: this\n  })), React.createElement(GridItem, {\n    rowSpan: 3,\n    colSpan: 3,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1214\n    },\n    __self: this\n  }, React.createElement(Flex, {\n    py: 4,\n    alignItems: \"center\",\n    flexDir: \"column\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1215\n    },\n    __self: this\n  }, React.createElement(Flex, {\n    marginTop: 20,\n    marginBottom: 10,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1216\n    },\n    __self: this\n  }, React.createElement(AceEditor, {\n    fontSize: 16,\n    showPrintMargin: true,\n    showGutter: true,\n    highlightActiveLine: true,\n    setOptions: {\n      enableBasicAutocompletion: true,\n      enableLiveAutocompletion: true,\n      enableSnippets: false,\n      showLineNumbers: true,\n      tabSize: 2\n    },\n    mode: \"json\",\n    theme: \"terminal\",\n    onChange: (newvalue, event) => {\n      console.log(event);\n      setdata(newvalue);\n      console.log(data);\n      setDownloadable(false);\n    },\n    value: data,\n    name: \"grammar-editor\",\n    wrapEnabled: true,\n    height: \"40em\",\n    width: \"40em\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1217\n    },\n    __self: this\n  })), React.createElement(Stack, {\n    py: 4,\n    direction: \"row\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1244\n    },\n    __self: this\n  }, React.createElement(Button, {\n    colorScheme: \"yellow\",\n    disabled: !data,\n    onClick: onValidate,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1245\n    },\n    __self: this\n  }, \"Validate_\"), React.createElement(Button, {\n    colorScheme: \"green\",\n    disabled: !downloadable,\n    onClick: downloadTxtFile,\n    leftIcon: React.createElement(BiDownload, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1256\n      },\n      __self: this\n    }),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1252\n    },\n    __self: this\n  }, \"Download File\")), activeStep === stepslen ? React.createElement(Flex, {\n    px: 4,\n    py: 4,\n    width: \"100%\",\n    flexDirection: \"column\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1263\n    },\n    __self: this\n  }, React.createElement(Heading, {\n    fontSize: \"xl\",\n    textAlign: \"center\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1264\n    },\n    __self: this\n  }, \"Woohoo! All steps completed!\"), React.createElement(Button, {\n    mx: \"auto\",\n    mt: 6,\n    size: \"sm\",\n    onClick: reset,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1267\n    },\n    __self: this\n  }, \"Reset\")) : React.createElement(Flex, {\n    width: \"100%\",\n    justify: \"flex-end\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1272\n    },\n    __self: this\n  }, React.createElement(Button, {\n    isDisabled: activeStep === 0,\n    mr: 4,\n    onClick: prevStep,\n    size: \"sm\",\n    variant: \"outline\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1273\n    },\n    __self: this\n  }, \"Prev\"), activeStep === stepslen - 1 ? React.createElement(Button, {\n    size: \"sm\",\n    onClick: onFinish,\n    disabled: !validated,\n    isLoading: submitting,\n    colorScheme: \"green\",\n    variant: \"outline\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1283\n    },\n    __self: this\n  }, \"Finish\") : React.createElement(Button, {\n    size: \"sm\",\n    onClick: onNextStep,\n    disabled: !validated,\n    isLoading: submitting,\n    colorScheme: \"yellow\",\n    variant: \"outline\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1294\n    },\n    __self: this\n  }, \"Next\")))), React.createElement(GridItem, {\n    rowSpan: 3,\n    colSpan: 2,\n    pt: 120,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1310\n    },\n    __self: this\n  }, React.createElement(Flex, {\n    flexDir: \"column\",\n    pl: 20,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1311\n    },\n    __self: this\n  }, displayErrors.length > 0 ? React.createElement(List, {\n    spacing: 2,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1313\n    },\n    __self: this\n  }, displayErrors.map((e, i) => {\n    let str = \"\";\n    const splitarr = e.match(/(?:[^\\s\"]+|\"[^\"]*\")+/g);\n    let Val;\n\n    if (splitarr.length === 12) {\n      splitarr.map((m, i) => i !== 0 && i !== 10 && (str = str + \" \" + m));\n\n      Val = () => React.createElement(React.Fragment, null, React.createElement(Text, {\n        as: \"span\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1324\n        },\n        __self: this\n      }, React.createElement(Text, {\n        as: \"span\",\n        fontWeight: \"bold\",\n        color: tipcolors[splitarr[10]],\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1325\n        },\n        __self: this\n      }, splitarr[0]), React.createElement(Text, {\n        as: \"span\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1332\n        },\n        __self: this\n      }, str), React.createElement(Text, {\n        as: \"span\",\n        fontWeight: \"bold\",\n        color: tipcolors[splitarr[10]],\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1333\n        },\n        __self: this\n      }, \" \" + splitarr[10])));\n    }\n\n    if (splitarr.length === 7 || splitarr.length === 8) {\n      splitarr.map((m, i) => i !== 0 && (str = str + \" \" + m));\n\n      Val = () => React.createElement(React.Fragment, null, React.createElement(Text, {\n        as: \"span\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1348\n        },\n        __self: this\n      }, React.createElement(Text, {\n        as: \"span\",\n        fontWeight: \"bold\",\n        color: \"teal.400\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1349\n        },\n        __self: this\n      }, splitarr[0]), React.createElement(Text, {\n        as: \"span\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1356\n        },\n        __self: this\n      }, str)));\n    }\n\n    if (splitarr.length === 11) {\n      splitarr.map((m, i) => i !== 0 && i !== 10 && (str = str + \" \" + m));\n\n      Val = () => React.createElement(React.Fragment, null, React.createElement(Text, {\n        as: \"span\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1367\n        },\n        __self: this\n      }, React.createElement(Text, {\n        as: \"span\",\n        fontWeight: \"bold\",\n        color: tipcolors[splitarr[10]],\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1368\n        },\n        __self: this\n      }, splitarr[0]), React.createElement(Text, {\n        as: \"span\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1375\n        },\n        __self: this\n      }, str), React.createElement(Text, {\n        as: \"span\",\n        fontWeight: \"bold\",\n        color: tipcolors[splitarr[10]],\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1376\n        },\n        __self: this\n      }, \" \" + splitarr[10])));\n    }\n\n    return React.createElement(ListItem, {\n      key: i,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1388\n      },\n      __self: this\n    }, React.createElement(ListIcon, {\n      as: FaExclamationCircle,\n      color: \"red.500\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1389\n      },\n      __self: this\n    }), React.createElement(Val, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1390\n      },\n      __self: this\n    }));\n  })) : React.createElement(React.Fragment, null))), React.createElement(Modal, {\n    onClose: onClose,\n    isOpen: isOpen,\n    isCentered: true,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1400\n    },\n    __self: this\n  }, React.createElement(ModalOverlay, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1401\n    },\n    __self: this\n  }), React.createElement(ModalContent, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1402\n    },\n    __self: this\n  }, React.createElement(ModalCloseButton, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1403\n    },\n    __self: this\n  }), React.createElement(ModalBody, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1404\n    },\n    __self: this\n  }, React.createElement(Box, {\n    textAlign: \"center\",\n    py: 10,\n    px: 6,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1405\n    },\n    __self: this\n  }, React.createElement(CheckCircleIcon, {\n    boxSize: \"50px\",\n    color: \"green.500\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1406\n    },\n    __self: this\n  }), React.createElement(Heading, {\n    as: \"h2\",\n    size: \"xl\",\n    mt: 6,\n    mb: 2,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1407\n    },\n    __self: this\n  }, \"JSON Validation Successful!\"), React.createElement(Text, {\n    color: \"gray.500\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1410\n    },\n    __self: this\n  }, \"We have made sure that your data is free from any data-types or syntax errors. Happy Development!\"))), React.createElement(ModalFooter, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1416\n    },\n    __self: this\n  }, React.createElement(Button, {\n    onClick: () => {\n      onClose(); // history.push(\"/projects\");\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1417\n    },\n    __self: this\n  }, \"Close\"))))) : React.createElement(React.Fragment, null, React.createElement(Tabs, {\n    isFitted: true,\n    variant: \"unstyled\",\n    marginTop: 10,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1427\n    },\n    __self: this\n  }, React.createElement(TabList, {\n    mb: \"1em\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1428\n    },\n    __self: this\n  }, React.createElement(Tab, {\n    _selected: {\n      color: 'white',\n      bg: 'blue.300'\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1429\n    },\n    __self: this\n  }, \"Write\"), React.createElement(Tab, {\n    _selected: {\n      color: 'white',\n      bg: 'blue.300'\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1430\n    },\n    __self: this\n  }, \"Read\"), React.createElement(Tab, {\n    _selected: {\n      color: 'white',\n      bg: 'blue.300'\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1431\n    },\n    __self: this\n  }, \"Publish\")), React.createElement(TabPanels, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1433\n    },\n    __self: this\n  }, React.createElement(TabPanel, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1434\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1435\n    },\n    __self: this\n  }, React.createElement(Grid, {\n    templateColumns: \"repeat(8, 1fr)\",\n    gap: 2,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1436\n    },\n    __self: this\n  }, React.createElement(GridItem, {\n    rowSpan: 8,\n    colStart: 1,\n    colEnd: 8,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1437\n    },\n    __self: this\n  }, React.createElement(Flex, {\n    py: 4,\n    alignItems: \"center\",\n    flexDir: \"column\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1438\n    },\n    __self: this\n  }, React.createElement(Flex, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1439\n    },\n    __self: this\n  }, React.createElement(Text, {\n    fontSize: \"xl\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1440\n    },\n    __self: this\n  }, \"Name:\"), React.createElement(FormControl, {\n    paddingRight: 10,\n    paddingLeft: 2,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1441\n    },\n    __self: this\n  }, React.createElement(Input, {\n    value: rulename,\n    onChange: handel_name,\n    placeholder: \"Name\",\n    size: \"sm\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1445\n    },\n    __self: this\n  })), React.createElement(Text, {\n    fontSize: \"xl\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1452\n    },\n    __self: this\n  }, \"Description:\"), React.createElement(FormControl, {\n    paddingLeft: 2,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1453\n    },\n    __self: this\n  }, React.createElement(Input, {\n    value: description,\n    onChange: handel_description,\n    placeholder: \"Description\",\n    size: \"sm\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1456\n    },\n    __self: this\n  }))), React.createElement(Flex, {\n    flexDir: \"row\",\n    paddingTop: 10,\n    paddingLeft: 35,\n    marginLeft: 20,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1464\n    },\n    __self: this\n  }, React.createElement(Box, {\n    as: \"pane\",\n    bg: \"grey\",\n    _dark: {\n      bg: \"gray.800\"\n    },\n    h: \"32em\",\n    w: \"12em\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1465\n    },\n    __self: this\n  }, React.createElement(Box, {\n    as: \"pane\",\n    zIndex: \"fixed\",\n    h: \"300px\",\n    overflowX: \"hidden\",\n    overflowY: \"auto\",\n    w: \"400px\",\n    colorScheme: \"yellow\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1474\n    },\n    __self: this\n  }, React.createElement(Flex, {\n    px: \"4\",\n    pb: \"3\",\n    pt: \"5\",\n    align: \"center\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1483\n    },\n    __self: this\n  }, React.createElement(\"center\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1484\n    },\n    __self: this\n  }, React.createElement(Text, {\n    fontSize: \"2xl\",\n    ml: \"2\",\n    color: \"white\",\n    fontWeight: \"semibold\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1485\n    },\n    __self: this\n  }, \"Semantics\"))), React.createElement(Flex, {\n    direction: \"column\",\n    as: \"nav\",\n    fontSize: \"lg\",\n    color: \"white\",\n    \"aria-label\": \"Main Navigation\",\n    margin: 5,\n    marginTop: 2,\n    marginLeft: 7,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1495\n    },\n    __self: this\n  }, semantics.elements.map(p => React.createElement(\"a\", {\n    onClick: () => {\n      console.log(position);\n      var newdata_part1 = data.slice(0, position);\n      var newdata_part2 = data.slice(position);\n      setdata(newdata_part1 + p.editorDisplay + newdata_part2);\n    },\n    color: \"white\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1506\n    },\n    __self: this\n  }, React.createElement(\"span\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1515\n    },\n    __self: this\n  }, p.displayName)))))), React.createElement(Flex, {\n    marginLeft: 10,\n    marginRight: 10,\n    marginBottom: 10,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1522\n    },\n    __self: this\n  }, React.createElement(AceEditor, {\n    fontSize: 16,\n    showPrintMargin: true,\n    showGutter: true,\n    highlightActiveLine: true,\n    setOptions: {\n      enableBasicAutocompletion: true,\n      enableLiveAutocompletion: true,\n      enableSnippets: false,\n      showLineNumbers: true,\n      tabSize: 2\n    },\n    mode: \"json\",\n    theme: \"terminal\",\n    onChange: (newvalue, event) => {\n      fl = false;\n      setdata(newvalue);\n      setDownloadable(false);\n    },\n    onCursorChange: newplace => {\n      convertPointer({\n        \"row\": newplace.cursor.row,\n        \"column\": newplace.cursor.column\n      }, newplace.cursor.document.$lines);\n    },\n    onSelectionChange: e => {\n      convertPointer({\n        \"row\": e.cursor.row,\n        \"column\": e.cursor.column\n      }, e.doc.$lines);\n    },\n    value: data,\n    name: \"grammar-editor\",\n    wrapEnabled: true,\n    height: \"40em\",\n    width: \"40em\",\n    id: \"editor\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1523\n    },\n    __self: this\n  })), React.createElement(Box, {\n    as: \"pane\",\n    bg: \"grey\",\n    _dark: {\n      bg: \"gray.800\"\n    },\n    h: \"32em\",\n    w: \"18em\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1556\n    },\n    __self: this\n  }, React.createElement(Box // navbar\n  , {\n    as: \"pane\",\n    zIndex: \"fixed\",\n    h: \"300px\",\n    pb: \"10\",\n    overflowX: \"hidden\",\n    overflowY: \"auto\",\n    bg: \"grey\",\n    w: \"400px\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1565\n    },\n    __self: this\n  }, React.createElement(Flex, {\n    px: \"4\",\n    pb: \"3\",\n    pt: \"5\",\n    align: \"center\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1575\n    },\n    __self: this\n  }, React.createElement(\"center\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1576\n    },\n    __self: this\n  }, React.createElement(Text, {\n    fontSize: \"2xl\",\n    ml: \"2\",\n    color: \"white\",\n    fontWeight: \"semibold\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1577\n    },\n    __self: this\n  }, \"Actions\"))), React.createElement(Flex, {\n    direction: \"column\",\n    as: \"nav\",\n    fontSize: \"lg\",\n    color: \"white\",\n    \"aria-label\": \"Main Navigation\",\n    margin: 5,\n    marginTop: 2,\n    marginLeft: 7,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1587\n    },\n    __self: this\n  }, flag ? rules.map(p => React.createElement(\"a\", {\n    onClick: () => {\n      var newdata_part1 = data.slice(0, position);\n      var newdata_part2 = data.slice(position);\n      setdata(newdata_part1 + p + newdata_part2);\n    },\n    color: \"white\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1599\n    },\n    __self: this\n  }, p)) : React.createElement(React.Fragment, null, React.createElement(Text, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1612\n    },\n    __self: this\n  }, \"No recent files...\")))))), React.createElement(Stack, {\n    py: 4,\n    direction: \"row\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1619\n    },\n    __self: this\n  }, React.createElement(Button, {\n    colorScheme: \"yellow\",\n    disabled: !(data && rulename && description),\n    onClick: () => {\n      handleValidateButton();\n      setSeed(Math.random());\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1620\n    },\n    __self: this\n  }, \"Validate\"), React.createElement(Button, {\n    colorScheme: \"green\",\n    disabled: !validated,\n    onClick: () => {\n      saveButton();\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1630\n    },\n    __self: this\n  }, \"Save\"), React.createElement(Button, {\n    colorScheme: \"red\",\n    disabled: !(data || rulename || description),\n    onClick: () => {\n      flushButton();\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1639\n    },\n    __self: this\n  }, \"Flush\")), activeStep === stepslen ? React.createElement(Flex, {\n    px: 4,\n    py: 4,\n    width: \"100%\",\n    flexDirection: \"column\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1650\n    },\n    __self: this\n  }, React.createElement(Heading, {\n    fontSize: \"xl\",\n    textAlign: \"center\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1656\n    },\n    __self: this\n  }, \"Woohoo! All steps completed!\"), React.createElement(Button, {\n    mx: \"auto\",\n    mt: 6,\n    size: \"sm\",\n    onClick: reset,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1659\n    },\n    __self: this\n  }, \"Reset\")) : React.createElement(Flex, {\n    width: \"100%\",\n    justify: \"flex-end\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1664\n    },\n    __self: this\n  }, React.createElement(Button, {\n    isDisabled: activeStep === 0,\n    mr: 4,\n    onClick: prevStep,\n    size: \"sm\",\n    variant: \"outline\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1665\n    },\n    __self: this\n  }, \"Prev\")))), React.createElement(GridItem, {\n    rowSpan: 3,\n    colSpan: 2,\n    pt: 120,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1679\n    },\n    __self: this\n  }, React.createElement(Flex, {\n    flexDir: \"column\",\n    pl: 20,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1680\n    },\n    __self: this\n  }, displayErrors.length > 0 ? React.createElement(List, {\n    spacing: 2,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1682\n    },\n    __self: this\n  }, displayErrors.map((e, i) => {\n    let str = \"\";\n    const splitarr = e.match(/(?:[^\\s\"]+|\"[^\"]*\")+/g);\n    let Val;\n\n    if (splitarr.length === 12) {\n      splitarr.map((m, i) => i !== 0 && i !== 10 && (str = str + \" \" + m));\n\n      Val = () => React.createElement(React.Fragment, null, React.createElement(Text, {\n        as: \"span\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1694\n        },\n        __self: this\n      }, React.createElement(Text, {\n        as: \"span\",\n        fontWeight: \"bold\",\n        color: tipcolors[splitarr[10]],\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1695\n        },\n        __self: this\n      }, splitarr[0]), React.createElement(Text, {\n        as: \"span\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1702\n        },\n        __self: this\n      }, str), React.createElement(Text, {\n        as: \"span\",\n        fontWeight: \"bold\",\n        color: tipcolors[splitarr[10]],\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1703\n        },\n        __self: this\n      }, \" \" + splitarr[10])));\n    }\n\n    if (splitarr.length === 7 || splitarr.length === 8) {\n      splitarr.map((m, i) => i !== 0 && (str = str + \" \" + m));\n\n      Val = () => React.createElement(React.Fragment, null, React.createElement(Text, {\n        as: \"span\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1724\n        },\n        __self: this\n      }, React.createElement(Text, {\n        as: \"span\",\n        fontWeight: \"bold\",\n        color: \"teal.400\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1725\n        },\n        __self: this\n      }, splitarr[0]), React.createElement(Text, {\n        as: \"span\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1732\n        },\n        __self: this\n      }, str)));\n    }\n\n    if (splitarr.length === 11) {\n      splitarr.map((m, i) => i !== 0 && i !== 10 && (str = str + \" \" + m));\n\n      Val = () => React.createElement(React.Fragment, null, React.createElement(Text, {\n        as: \"span\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1745\n        },\n        __self: this\n      }, React.createElement(Text, {\n        as: \"span\",\n        fontWeight: \"bold\",\n        color: tipcolors[splitarr[10]],\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1746\n        },\n        __self: this\n      }, splitarr[0]), React.createElement(Text, {\n        as: \"span\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1753\n        },\n        __self: this\n      }, str), React.createElement(Text, {\n        as: \"span\",\n        fontWeight: \"bold\",\n        color: tipcolors[splitarr[10]],\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1754\n        },\n        __self: this\n      }, \" \" + splitarr[10])));\n    }\n\n    return React.createElement(ListItem, {\n      key: i,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1767\n      },\n      __self: this\n    }, React.createElement(ListIcon, {\n      as: FaExclamationCircle,\n      color: \"red.500\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1768\n      },\n      __self: this\n    }), React.createElement(Val, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1772\n      },\n      __self: this\n    }));\n  })) : React.createElement(React.Fragment, null)))))), React.createElement(TabPanel, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1785\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1786\n    },\n    __self: this\n  }, React.createElement(Grid, {\n    templateColumns: \"repeat(6, 1fr)\",\n    gap: 2,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1787\n    },\n    __self: this\n  }, React.createElement(GridItem, {\n    rowSpan: 8,\n    colStart: 1,\n    colEnd: 8,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1788\n    },\n    __self: this\n  }, React.createElement(Flex, {\n    py: 4,\n    alignItems: \"center\",\n    flexDir: \"column\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1789\n    },\n    __self: this\n  }, React.createElement(Text, {\n    fontSize: \"3xl\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1790\n    },\n    __self: this\n  }, \"Select a behaviour to view its contents.\"), React.createElement(Flex, {\n    flexDir: \"row\",\n    paddingTop: 10,\n    paddingLeft: 35,\n    marginLeft: 20,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1791\n    },\n    __self: this\n  }, React.createElement(Stack, {\n    direction: \"column\",\n    marginRight: 10,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1792\n    },\n    __self: this\n  }, React.createElement(Flex, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1793\n    },\n    __self: this\n  }, React.createElement(Text, {\n    fontSize: \"xl\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1794\n    },\n    __self: this\n  }, \"Name:\"), React.createElement(FormControl, {\n    paddingLeft: 2,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1795\n    },\n    __self: this\n  }, React.createElement(Text, {\n    fontSize: \"xl\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1796\n    },\n    __self: this\n  }, rule.rulename))), React.createElement(Flex, {\n    paddingTop: 2,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1801\n    },\n    __self: this\n  }, React.createElement(Text, {\n    fontSize: \"xl\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1802\n    },\n    __self: this\n  }, \"Description:\"), React.createElement(FormControl, {\n    paddingLeft: 2,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1803\n    },\n    __self: this\n  }, React.createElement(Text, {\n    fontSize: \"xl\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1804\n    },\n    __self: this\n  }, rule.description))), React.createElement(Flex, {\n    paddingTop: 2,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1809\n    },\n    __self: this\n  }, React.createElement(Text, {\n    fontSize: \"xl\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1810\n    },\n    __self: this\n  }, \"Logic:\")), React.createElement(Flex, {\n    paddingLeft: 12,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1812\n    },\n    __self: this\n  }, React.createElement(AceEditor, {\n    fontSize: 20,\n    showPrintMargin: true,\n    showGutter: true,\n    highlightActiveLine: true,\n    setOptions: {\n      enableBasicAutocompletion: true,\n      enableLiveAutocompletion: true,\n      enableSnippets: false,\n      showLineNumbers: true,\n      tabSize: 2\n    },\n    mode: \"json\",\n    theme: \"terminal\" // value={(rule.data_name != null ? atob(rule.data_name) : rule.data_name)}\n    ,\n    value: rule.data_name,\n    name: \"grammar-editor\",\n    wrapEnabled: true,\n    height: \"28em\",\n    width: \"32em\",\n    readOnly: true,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1813\n    },\n    __self: this\n  }))), React.createElement(Box, {\n    as: \"pane\",\n    bg: \"grey\",\n    _dark: {\n      bg: \"gray.800\"\n    },\n    h: \"36em\",\n    w: \"16em\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1837\n    },\n    __self: this\n  }, React.createElement(Box // navbar\n  , {\n    as: \"pane\",\n    zIndex: \"fixed\",\n    h: \"300px\",\n    pb: \"10\",\n    overflowX: \"hidden\",\n    overflowY: \"auto\",\n    bg: \"grey\",\n    w: \"400px\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1846\n    },\n    __self: this\n  }, React.createElement(Flex, {\n    px: \"4\",\n    pb: \"3\",\n    pt: \"5\",\n    align: \"center\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1856\n    },\n    __self: this\n  }, React.createElement(\"center\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1857\n    },\n    __self: this\n  }, React.createElement(Text, {\n    fontSize: \"2xl\",\n    ml: \"2\",\n    color: \"white\",\n    fontWeight: \"semibold\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1858\n    },\n    __self: this\n  }, \"Behaviours\"))), React.createElement(Flex, {\n    direction: \"column\",\n    as: \"nav\",\n    fontSize: \"md\",\n    color: \"white\",\n    \"aria-label\": \"Main Navigation\",\n    margin: 5,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1868\n    },\n    __self: this\n  }, rule_list.length > 0 ? rule_list.map(p => React.createElement(Text, {\n    fontSize: \"xl\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1878\n    },\n    __self: this\n  }, React.createElement(\"a\", {\n    onClick: () => {\n      setRule(p); // if (perdata.length > 0) {\n      //   setPerdata(\n      //     perdata +\n      //     `,{\"rulename\":\"${p.rulename\n      //     }\", \"description\":\"${p.description\n      //     }\",\"logic\": \"${btoa(\n      //       p.data_name\n      //     )}\"}\\n`\n      //   );\n      // } else {\n      //   setPerdata(\n      //     perdata +\n      //     `{\"rulename\":\"${p.rulename\n      //     }\", \"description\":\"${p.description\n      //     }\",\"logic\": \"${btoa(\n      //       p.data_name\n      //     )}\"}\\n`\n      //   );\n      // }\n    },\n    color: \"white\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1879\n    },\n    __self: this\n  }, p.rulename))) : React.createElement(React.Fragment, null, React.createElement(Text, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1910\n    },\n    __self: this\n  }, \"No recent files!\"))))))))))), React.createElement(TabPanel, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1992\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1993\n    },\n    __self: this\n  }, React.createElement(Grid, {\n    templateColumns: \"repeat(8, 1fr)\",\n    gap: 2,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1994\n    },\n    __self: this\n  }, React.createElement(GridItem, {\n    rowSpan: 8,\n    colStart: 1,\n    colEnd: 8,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1995\n    },\n    __self: this\n  }, React.createElement(Flex, {\n    py: 4,\n    alignItems: \"center\",\n    flexDir: \"column\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1996\n    },\n    __self: this\n  }, React.createElement(Text, {\n    fontSize: \"3xl\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1997\n    },\n    __self: this\n  }, \"Drag and drop the items to include in CUSTOM JSON.\"), React.createElement(Flex, {\n    flexDir: \"row\",\n    paddingTop: 10,\n    paddingLeft: 35,\n    marginLeft: 20,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1998\n    },\n    __self: this\n  }))))))))));\n};\n\nconst CustomCard = React.forwardRef(({\n  children,\n  ...rest\n}, ref) => React.createElement(Box, {\n  p: \"1\",\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 2017\n  },\n  __self: this\n}, React.createElement(Tag, Object.assign({\n  ref: ref\n}, rest, {\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 2018\n  },\n  __self: this\n}), children)));\nexport default ProjectPageContent;","map":{"version":3,"sources":["/home/amogha/btp/VReqST-e2220b1081924feff8bfe2cc9e536fbceae8bc39/VReqST-main/VReqST/client/src/Components/Project/ProjectPageContent.jsx"],"names":["Box","Button","Divider","Flex","Grid","GridItem","Heading","Input","List","ListIcon","ListItem","Modal","ModalBody","ModalCloseButton","ModalContent","ModalFooter","ModalOverlay","Select","Spinner","Stack","Tag","Text","Tooltip","useDisclosure","useToast","Tabs","TabList","TabPanels","Tab","TabPanel","FormControl","Textarea","VStack","Axios","React","useEffect","useState","AceEditor","FaExclamationCircle","FaFileAlt","BiDownload","CheckCircleIcon","useParams","DndProvider","isJson","e","semantics","errors","rules","valid_rule","grammarDataArray","flag","fl","tipcolors","number","object","boolean","string","array","jsonValidator","grammar","validating","keys","Object","keys22","grammarArray","filter","value","includes","extraEntries","map","en","app","i","length","root","proot","push","typeof","key","hasOwnProperty","a","c","repeat","obje","found","indexOf","req","alert","b","console","log","ProjectPageContent","stepslen","nextStep","prevStep","reset","activeStep","scene","action","asset","projectname","timeline","custom","toast","projectid","jwttoken","localStorage","getItem","val","setValue","files","setfiles","loading","setLoading","submitting","setSubmitting","data","setdata","grammarid","setGrammarid","validated","setValidated","grammarbundle","setGrammarbundle","displayErrors","setDisplayErrors","rule_list","setRuleList","rule","setRule","downloadable","setDownloadable","isOpen","onOpen","onClose","description","setDescription","perdata","setPerdata","seed","setSeed","rulename","setRulename","textPointer","setTextPointer","position","setPosition","savebutton","setSavebutton","convertPointer","pointer","lines","pos","row","column","getFiles","requestOptions","headers","token","res","get","requestOption","res2","p","name","grammarName","error","title","status","duration","isClosable","getRules","res_rules","post","project_id","downloadTxtFile","fileName","json","blob","Blob","type","href","URL","createObjectURL","downlink","document","createElement","download","body","appendChild","click","removeChild","revokeObjectURL","handleInputChange","inputValue","target","asset_valid","asset_list","valid_obj","d","j","assetValidator","all_object_ids","ret1","sourceObj","ret2","targetObj","repeatactionfor","repeat_assets","curr_word","Array","from","char","word","ret","onValidate2","data_name","onValidate","myjson","JSON","parse","mygrm","myobjs","articles","_sid","ObjAction","actresid","_objectname","ret_asset","showValidateHandler","code","jsonData","stringify","types","order","prev","next","constructs","conditionStart","conditionEnd","scopeStart","scopeEnd","pre","parent","conditionSeparator","specialSymbols","fetch","method","then","response","catch","err","valid","handleValidateButton","saveButton","btoa","flushButton","onNextStep","url","patch","message","handel_name","handel_description","onFinish","enableBasicAutocompletion","enableLiveAutocompletion","enableSnippets","showLineNumbers","tabSize","newvalue","event","str","splitarr","match","Val","m","color","bg","elements","newdata_part1","slice","newdata_part2","editorDisplay","displayName","newplace","cursor","$lines","doc","Math","random","CustomCard","forwardRef","children","rest","ref"],"mappings":"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","sourcesContent":["import {\n  Box,\n  Button,\n  Divider,\n  Flex,\n  Grid,\n  GridItem,\n  Heading,\n  Input,\n  List,\n  ListIcon,\n  ListItem,\n  Modal,\n  ModalBody,\n  ModalCloseButton,\n  ModalContent,\n  ModalFooter,\n  ModalOverlay,\n  Select,\n  Spinner,\n  Stack,\n  Tag,\n  Text,\n  Tooltip,\n  useDisclosure,\n  useToast,\n  Tabs,\n  TabList,\n  TabPanels,\n  Tab,\n  TabPanel,\n  FormControl,\n  Textarea,\n  VStack\n} from \"@chakra-ui/react\";\nimport Axios from \"axios\";\nimport React, { useEffect, useState } from \"react\";\nimport AceEditor from \"react-ace\";\nimport { FaExclamationCircle, FaFileAlt } from \"react-icons/fa\";\nimport { BiDownload } from \"react-icons/bi\";\nimport { CheckCircleIcon } from \"@chakra-ui/icons\";\nimport { useParams } from \"react-router-dom\";\nimport { DndProvider } from 'react-dnd';\n\nimport isJson from \"../../utils/checkjson\";\nimport e from \"cors\";\nimport semantics from \"../../utils/syntax.json\";\n\nlet errors = [];\nlet rules = [];\nlet valid_rule = [];\nlet grammarDataArray = [];\nlet flag = false;\nlet fl = false;\n\nconst tipcolors = {\n  number: \"orange\",\n  object: \"green\",\n  boolean: \"red\",\n  string: \"yellow\",\n  array: \"blue\",\n};\n\nconst jsonValidator = (grammar, validating) => {\n  const keys = Object.keys(grammar);\n  const keys22 = Object.keys(validating);\n\n  const grammarArray = Object.keys(grammar).filter(\n    (value) => !Object.keys(validating).includes(value)\n  );\n\n  const extraEntries = Object.keys(validating).filter(\n    (value) => !Object.keys(grammar).includes(value)\n  );\n\n  extraEntries.map((en) => {\n    let app = 1;\n\n    for (let i = 0; i < keys.length; i++) {\n      if (keys[i] === en || grammar[keys[i]].root === en || grammar[keys[i]].proot === en) \n        app = 0;\n    }\n    if (app) {\n      errors.push(`\"${en}\" is invalid key in the JSON`);\n    }\n  });\n\n  grammarArray.map((en) => {\n    let app = 1;\n    for (let i = 0; i < keys22.length; i++) {\n      if (en === keys22[i] || grammar[en].root === keys22[i] || grammar[en].proot === keys22[i]) {\n        app = 0;\n      }\n    }\n    if (app === 1) {\n      errors.push(\n        `\"${en}\" is a mandatory field! Please add the field with ${grammar[en].typeof} type`\n      );\n    }\n  })\n\n  for (let i = 0; i < keys.length; i++) {\n    var key = keys[i];\n    if (grammar[key].hasOwnProperty('proot')) {\n      let a = validating[grammar[key].proot];\n      for (let i = 0; i < a.length; i++) {\n        let c = a[i];\n        if (c.hasOwnProperty(grammar[key].root)) {\n          if (typeof c[grammar[key].root][key] === grammar[key].typeof) {\n          }\n          else {\n            if (typeof c[grammar[key].root][key] === \"undefined\") {\n              errors.push(\n                `\"${key}\" is a mandatory field! Please add the field with ${grammar[key].typeof} type`\n              );\n            }\n            else {\n              errors.push(\n                ` \"${key}\" has an invalid type of '${typeof c[grammar[key].root][key]}'. Expected type of ${grammar[key].typeof}`\n              );\n            }\n          }\n        }\n      }\n    }\n    else if (grammar[key].hasOwnProperty('repeat') && grammar[key].repeat === \"allow\") {\n      let a = grammar[key].root;\n      var obje = Object.keys(validating);\n      let found = obje.indexOf(a);\n\n      if (typeof validating[a] === \"object\") {\n        for (let i = 0; i < validating[a].length; i++) {\n          if (typeof validating[a][i][key] === grammar[key].typeof || (typeof validating[a][i][key] === \"object\" && grammar[key].typeof === \"array\")) {\n          }\n          else {\n            if (typeof validating[a][i][key] === \"undefined\") {\n              errors.push(\n                `\"${key}\" is a mandatory field! Please add the field with ${grammar[key].typeof} type`\n              );\n            }\n            else {\n              errors.push(\n                ` \"${key}\" has an invalid type of '${typeof validating[a][i][\n                key\n                ]}'. Expected type of ${grammar[key].typeof}`\n              );\n            }\n          }\n        }\n      }\n    }\n    else {\n      if (grammar[key].root === 'null' || grammar[key].root === 'undefined' || (!grammar[key].hasOwnProperty('root'))) {\n        if (typeof validating[key] === \"undefined\") {\n          continue;\n        }\n\n        // Handling nested objects recursively\n        if (\n          typeof validating[key] === \"object\" &&\n          grammar[key].typeof === \"object\"\n        ) {\n          continue;\n        }\n\n        if (typeof validating[key] !== grammar[key].typeof) {\n          errors.push(\n            ` \"${key}\" has an invalid type of '${typeof validating[\n            key\n            ]}'. Expected type of ${grammar[key].typeof}`\n          );\n        }\n        else {\n          // alert(\"sucess\");\n        }\n\n        if (\n          typeof validating[key] === \"string\" &&\n          typeof validating[key] === grammar[key].typeof &&\n          grammar[key].req === \"mandatory\" &&\n          validating[key].length === 0\n        ) {\n          errors.push(`\"${key}\" is mandatory, empty string is not allowed`);\n        }\n      }\n      else {\n        let a = grammar[key].root;\n        if (false) {\n          for (let i = 0; i < validating[a].length; i++) {\n            if (typeof validating[a][i].key === grammar[key].typeof) {\n              alert(\"Sucess\");\n            }\n            else {\n              //alert(\"Failure\");\n              //errors.push(\"kindly see the json syntax\");\n              errors.push(`\"${key}\" has invalid type, expected \"${grammar[key].typeof}\"`);\n            }\n          }\n        }\n        else {\n          var b = validating[a];\n          //alert(a);\n          let c = Object.keys(b);\n          let found = c.indexOf(key)\n          if (typeof validating[a][c[found]] === grammar[key].typeof || (typeof validating[a][c[found]] === \"object\" && grammar[key].typeof === \"array\")) {\n            //alert(\"Sucess!!!!!!\");\n          }\n          else {\n            if (typeof validating[a][c[found]] === \"undefined\") {\n              errors.push(\n                `\"${key}\" is a mandatory field! Please add the field with ${grammar[key].typeof} type`\n              );\n\n            }\n            else {\n              errors.push(\n                ` \"${key}\" has an invalid type of '${typeof validating[a][c[found]]\n                }'. Expected type of ${grammar[key].typeof}`\n              );\n            }\n          }\n        }\n      }\n    }\n  }\n\n  if (errors.length > 0) {\n    console.log(errors);\n    return true;\n  }\n  return false;\n};\n\n\nconst ProjectPageContent = ({\n  stepslen,\n  nextStep,\n  prevStep,\n  reset,\n  activeStep,\n  scene,\n  action,\n  asset,\n  projectname,\n  timeline,\n  custom,\n}) => {\n  const toast = useToast();\n  const { projectid } = useParams();\n  const jwttoken = localStorage.getItem(\"jwtToken\");\n\n  let [val, setValue] = React.useState(\"\");\n  const [files, setfiles] = useState([]);\n  const [loading, setLoading] = useState(false);\n  const [submitting, setSubmitting] = useState(false);\n  const [data, setdata] = useState(\"\");\n  const [grammarid, setGrammarid] = useState(\"\");\n  const [validated, setValidated] = useState(false);\n  const [grammarbundle, setGrammarbundle] = useState({});\n  const [displayErrors, setDisplayErrors] = useState([]);\n  const [rule_list, setRuleList] = useState([]);\n  const [rule, setRule] = useState({});\n\n  const [downloadable, setDownloadable] = useState(false);\n  const { isOpen, onOpen, onClose } = useDisclosure();\n  const [description, setDescription] = useState(\"\");\n  const [perdata, setPerdata] = useState(\"\");\n  const [seed, setSeed] = useState(0);\n  const [rulename, setRulename] = useState(\"\");\n  const [textPointer, setTextPointer] = useState({\"row\": 0, \"column\": 0});\n\n  const [position, setPosition] = useState(0);\n  const [savebutton, setSavebutton] = useState(false);\n\n  const convertPointer = (pointer, lines) => {\n    let pos = 0;\n    for(let i=0; i<=pointer.row - 1; i++) {\n      pos += lines[i].length;\n      if(lines[i].length === 0)\n        pos+=1;\n    }\n    pos += pointer.column;\n    if(pointer.column === 0)\n      pos+=1;\n    setPosition(pos);\n  }\n\n  const getFiles = async () => {\n    try {\n      const requestOptions = {\n        headers: { \"Content-Type\": \"application/json\", token: jwttoken },\n      };\n      const res = await Axios.get(\n        `http://localhost:5002/api/json/timeline`,\n        requestOptions\n      );\n\n      const requestOption = {\n        headers: { \"Content-Type\": \"application/json\", token: jwttoken },\n      };\n      const res2 = await Axios.get(\n        `http://localhost:5002/api/project/${projectid}/grammarName`,\n        requestOption\n      );\n      setfiles(res.data);\n\n      res.data.map((p) => {\n        if (p.name == res2.data.grammarName) {\n          if (grammarDataArray.length != 5) {\n            grammarDataArray.push(p.scene);\n            grammarDataArray.push(p.asset);\n            grammarDataArray.push(p.action);\n            grammarDataArray.push(p.custom);\n            grammarDataArray.push(p.timeline);\n          }\n        }\n      })\n    } catch (error) {\n      toast({\n        title: \"Something went wrong 1\",  //Goes wrong\n        status: \"error\",\n        duration: 10000,\n        isClosable: true,\n        position: \"top\",\n      });\n      console.log(error);\n    }\n  };\n\n  const getRules = async () => {\n    const res_rules = await Axios.post(\n      \"http://localhost:5002/api/custom/get-custom-rules\", {\n        headers: {\n          \"Content-Type\": \"application/json\", \n          token: jwttoken \n        },\n        data: {\n          project_id: projectid\n        }\n      }\n    );\n    setRuleList(res_rules.data);\n  }\n\n  useEffect(() => {\n    setLoading(true);\n    getFiles();\n    getRules();\n    if (activeStep == 0) {\n      setdata(scene);\n      getFiles();\n      fl = false;\n      if (isJson(scene)) {\n        setDownloadable(true);\n      }\n    }\n    if (activeStep == 1) {\n      setdata(asset);\n      fl = false;\n      if (isJson(asset)) {\n        setDownloadable(true);\n      }\n    }\n    if (activeStep == 2) {\n      setdata(action);\n      fl = false;\n      if (isJson(action)) {\n        setDownloadable(true);\n      }\n    }\n    if (activeStep == 3) {\n      // setdata(custom);\n      fl = false\n      if (isJson(custom)) {\n        setDownloadable(true);\n      }\n    }\n    if (activeStep == 4) {\n      setdata(timeline);\n      fl = false;\n      if (isJson(timeline)) {\n        setDownloadable(true);\n      }\n    }\n    setLoading(false);\n  }, []);\n  \n  const downloadTxtFile = () => {\n    if (data === \"\" || !isJson(data)) {\n      toast({\n        title: \"JSON Syntax is not correct\",\n        status: \"error\",\n        duration: 5000,\n        isClosable: true,\n        position: \"top-right\",\n      });\n      setDownloadable(false);\n      return;\n    }\n    let fileName = \"\";\n    if (activeStep === 0) fileName = \"scene\";\n    if (activeStep === 1) fileName = \"asset\";\n    if (activeStep === 2) fileName = \"action\";\n    if (activeStep === 3) fileName = \"custom\";\n    if (activeStep === 4) fileName = \"timeline\";\n    const json = data;\n    const blob = new Blob([json], { type: \"application/json\" });\n    const href = URL.createObjectURL(blob);\n\n    const downlink = document.createElement(\"a\");\n    downlink.href = href;\n    downlink.download = projectname + \"-\" + fileName + \".json\";\n    document.body.appendChild(downlink);\n    downlink.click();\n\n    // clean up \"a\" element & remove ObjectURL\n    document.body.removeChild(downlink);\n    URL.revokeObjectURL(href);\n  };\n\n  let handleInputChange = (e) => {\n    let inputValue = e.target.value;\n    setValue(inputValue);\n  };\n\n  let asset_valid = (asset, asset_list, flag) => {\n    // if flag is zero, dont print any errors\n    let valid_obj = false;\n\n    asset_list.map(((d,j)=>{\n      if(asset === d)\n        valid_obj = true;\n      // if(c.targetObj == d)\n      //   valid_target = true;\n    }))\n\n    if(valid_obj === false) {\n      setValidated(false);\n      setDownloadable(false);\n      if (flag) {\n        toast({\n          title:\n            \"Object \"+ asset +\" is not listed in Asset JSON. Only assets present in Asset JSON are valid.\"+asset+\"  \"+asset_list,\n          status: \"warning\",\n          duration: 5000,\n          isClosable: true,\n          position: \"top-right\",\n        });\n      }\n      return -1;\n    }\n    return 1;\n  }\n\n  let assetValidator = (a, all_object_ids) => {\n    a.map((c,i)=>{\n      let ret1 = asset_valid(c.sourceObj, all_object_ids, 1);\n      let ret2;\n      if (c.targetObj[c.targetObj.length - 1] === '*') {\n        ret2 = 1;\n      } else\n        ret2 = asset_valid(c.targetObj, all_object_ids, 1);\n\n      if(ret1 === -1) {\n        return false;\n      }\n\n      if (c.repeatactionfor !== null && c.repeatactionfor.length !== 0 && c.repeatactionfor[0] !== \" \") {\n        let repeat_assets = [];\n        let curr_word = \"\";\n        Array.from(c.repeatactionfor).map((char, key)=>{\n          if (char === ',' || char === ' ') {\n            if(curr_word !== \"\" && curr_word !== \" \" && curr_word.length !== 0) {\n              repeat_assets.push(curr_word);\n              curr_word = \"\";\n            }\n          } else\n            curr_word = curr_word + char;\n        })\n        if(curr_word != \"\" || curr_word != \" \" || curr_word.length != 0)\n          repeat_assets.push(curr_word);\n        \n        repeat_assets.map((word, key)=>{\n          let ret = asset_valid(word, all_object_ids, 1);\n          if ( ret === -1) {\n            return false;\n          }\n        })\n\n        if (ret2 === -1 && c.targetObj[c.targetObj.length - 1] !== \"*\") {\n          toast({\n            title:\n              \"Please update the Target Object according to the reccomendations in the document.\",\n            status: \"warning\",\n            duration: 5000,\n            isClosable: true,\n            position: \"top-right\",\n          });\n          return false;\n        } else {\n          if(asset_valid(c.targetObj, repeat_assets, 0) === 1) {\n            toast({\n              title:\n                \"Target object should not be a part of repeatactionfor.\",\n              status: \"warning\",\n              duration: 5000,\n              isClosable: true,\n              position: \"top-right\",\n            });\n            return false;\n          }\n        }\n      }\n    })\n    return true;\n  }\n\n  let onValidate2 = async () => {\n    toast({\n      title: \"Validation successfull\",\n      status: \"success\",\n      duration: 5000,\n      isClosable: true,\n      position: \"top-right\",\n    });\n\n    valid_rule.push({\n      rulename: rulename,\n      data_name: data,\n      description: description\n    });\n\n    setDownloadable(true);\n    setSavebutton(true);\n  };\n\n  const onValidate = async () => {\n    if (!isJson(data)) {\n      setValidated(false);\n      setDownloadable(false);\n      toast({\n        title: \"JSON Syntax is not correct\",\n        status: \"error\",\n        duration: 5000,\n        isClosable: true,\n        position: \"top-right\",\n      });\n      return;\n    }\n    setDisplayErrors([]);\n    errors = [];\n    var myjson = JSON.parse(data);\n    // console.log(myjson);\n\n    // try {\n    //   if (activeStep == 2) {\n    //     try {\n    //       {\n    //         rules = myjson.objlist;\n    //         var a = myjson.ObjAction;\n    //         //console.log(a[0]);\n    //         //alert(a[0]);\n    //         for (let i = 0; i < a.length; i++) {\n    //           var c = a[i].actresid;\n    //           //  console.log(c);\n    //           flag = true;\n    //           rules.push(c);\n    //         }\n    //       }\n    //     }\n    //     catch (e) {\n    //       console.log(e);\n    //       setValidated(false);\n    //       setDownloadable(false);\n    //     }\n    //   }\n    // }\n    // catch {\n    //   console.log(e);\n    // }\n    // if (grammarDataArray.length === 0) {\n    //   await getfiles();\n    //   //var temp=Object.keys(grammarDataArray);\n    //   // console.log(grammarDataArray);\n    // }\n\n    // console.log(grammarDataArray[0]);\n    try {\n      var mygrm = \"\";\n      if (activeStep == 0) mygrm = JSON.parse(grammarDataArray[0]);\n      else if (activeStep == 1) mygrm = JSON.parse(grammarDataArray[1]);\n      else if (activeStep == 2) mygrm = JSON.parse(grammarDataArray[2]);\n      else if (activeStep == 3) mygrm = JSON.parse(grammarDataArray[3]);\n      else if (activeStep == 4) mygrm = JSON.parse(grammarDataArray[4]);\n\n    } catch (e) {\n      console.log(e);\n    }\n\n    try {\n      // console.log(\"I am trying:\", activeStep);\n      if (activeStep == 2) {\n        try {\n          {\n            // console.log(\"Shambhaviiiiiiiiiiii\");\n\n            let all_object_ids = [];\n            const myobjs = JSON.parse(asset);\n\n            myobjs.articles.map((c,i)=>{\n              all_object_ids.push(c._sid);\n            })\n\n            // console.log(all_object_ids);\n            var a = myjson.ObjAction;\n            \n            for (let i = 0; i < a.length; i++) {\n              var c = a[i].actresid;\n              flag = true;\n              if (c) {\n                rules.push(c);\n              }\n            }\n          }\n        } catch (e) {\n          console.log(e);\n          setValidated(false);\n          setDownloadable(false);\n          toast({\n            title:\n              \"There are errors in the entered JSON, please check them out! Caught error\",\n            status: \"warning\",\n            duration: 5000,\n            isClosable: true,\n            position: \"top-right\",\n          });\n          return;\n        }\n      } else if (activeStep == 1) {\n        try {\n          {\n            var a = myjson.articles;\n            //console.log(a[0]);\n            //alert(a[0]);\n            for (let i = 0; i < a.length; i++) {\n              var c = a[i]._objectname;\n              //  console.log(c);\n              flag = true;\n              if (c) {\n                rules.push(c);\n              }\n            }\n          }\n        } catch (e) {\n          console.log(e);\n          setValidated(false);\n          setDownloadable(false);\n          toast({\n            title:\n              \"There are errors in the entered JSON, please check them out!\",\n            status: \"warning\",\n            duration: 5000,\n            isClosable: true,\n            position: \"top-right\",\n          });\n          return;\n        }\n      } \n    } catch {\n      console.log(e);\n    }\n    if (grammarDataArray.length === 0) {\n      await getFiles();\n    }\n\n\n    try {\n      let mygrm = \"\";\n      if (activeStep == 0) mygrm = JSON.parse(grammarDataArray[0]);\n      else if (activeStep == 1) mygrm = JSON.parse(grammarDataArray[1]);\n      else if (activeStep == 2) mygrm = JSON.parse(grammarDataArray[2]);\n      else if (activeStep == 3) mygrm = JSON.parse(grammarDataArray[3]);\n      else if (activeStep == 4) mygrm = JSON.parse(grammarDataArray[4]);\n\n\n      if (!jsonValidator(mygrm, myjson)) {\n        if(activeStep === 2)\n        {\n          let all_object_ids = [];\n          const myobjs = JSON.parse(asset);\n\n          myobjs.articles.map((c,i)=>{\n            all_object_ids.push(c._sid);\n          })\n          // console.log(all_object_ids);\n\n          const ret_asset = assetValidator(myjson.ObjAction, all_object_ids);\n          // console.log(ret_asset);\n          if(!ret_asset)\n          {\n            console.log(errors);\n            toast({\n              title: \"There are errors in the entered JSON, please check them out!\",\n              status: \"warning\",\n              duration: 5000,\n              isClosable: true,\n              position: \"top-right\",\n            });\n            return;\n          }\n          else{\n            setValidated(true);\n            setDownloadable(true);\n            toast({\n              title: \"JSON Validated Successfully\",\n              status: \"success\",\n              duration: 5000,\n              isClosable: true,\n              position: \"top-right\",\n            });\n          }\n        }\n        else{\n          setValidated(true);\n          setDownloadable(true);\n          toast({\n            title: \"JSON Validated Successfully\",\n            status: \"success\",\n            duration: 5000,\n            isClosable: true,\n            position: \"top-right\",\n          });\n        }\n      } else {\n        console.log(errors);\n        toast({\n          title: \"There are errors in the entered JSON, please check them out!\",\n          status: \"warning\",\n          duration: 5000,\n          isClosable: true,\n          position: \"top-right\",\n        });\n      }\n      // console.log(typeof errors);\n      setDisplayErrors(errors);\n    }\n    catch (e) {\n      console.log(e);\n      toast({\n        title: \"There are errors in the entered JSON, please check them out!\",\n        status: \"warning\",\n        duration: 5000,\n        isClosable: true,\n        position: \"top-right\",\n      });\n    }\n  };\n\n  // const onChangeFile = async (e) => {\n  //   setGrammarid(e.target.value);\n  //   if (!e.target.value) {\n  //     setGrammarData({});\n  //     return;\n  //   }\n  //   try {\n  //     const requestOptions = {\n  //       headers: { \"Content-Type\": \"application/json\", token: jwttoken },\n  //     };\n  //     const res = await Axios.get(\n  //       `http://localhost:5002/api/json/${e.target.value}`,\n  //       requestOptions\n  //     );\n  //     const grammarjson = JSON.parse(res.data.data);\n  //     setGrammarData(grammarjson);\n  //   } catch (error) {\n  //     toast({\n  //       title: \"Something went wrong 4\",\n  //       status: \"error\",\n  //       duration: 10000,\n  //       isClosable: true,\n  //       position: \"top\",\n  //     });\n  //     console.log(error);\n  //   }\n  // };\n\n  // const onChangeFile = async (e) => {\n  //   setGrammarid(e.target.value);\n  //   if (!e.target.value) {\n  //     // setGrammarData({});\n  //     return;\n  //   }\n  //   try {\n  //     //   if(activeStep==0) setGrammarData\n  //     //   if(activeStep==0) setGrammarData(grammarbundle.scene)\n  //     //  else if(activeStep==1) setGrammarData(grammarbundle.asset)\n  //     //  else if(activeStep==2) setGrammarData(grammarbundle.action)\n  //     //  else if(activeStep==3) setGrammarData(grammarbundle.custom)\n  //     //  else if(activeStep==4) setGrammarData(grammarbundle.timeline)\n  //   } catch (error) {\n  //     toast({\n  //       title: \"Something went wrong 4\",\n  //       status: \"error\",\n  //       duration: 10000,\n  //       isClosable: true,\n  //       position: \"top\",\n  //     });\n  //     console.log(error);\n  //   }\n  // };\n  const showValidateHandler = async () => {\n    let code = data;\n    let jsonData = JSON.stringify({\n      types: [\n        {\n          type: \"if\",\n          order: [[\"condition\"], [\"scope\"]],\n        },\n\n        {\n          type: \"else\",\n          prev: [\"if\", \"else-if\"],\n          order: [[\"scope\"]],\n        },\n\n        {\n          type: \"else-if\",\n          prev: [\"if\", \"else-if\"],\n          order: [[\"condition\"], [\"scope\"]],\n        },\n\n        {\n          type: \"switch\",\n          order: [[\"condition\"], [\"scope\", [\"Case\"], [\"Default\"]]],\n        },\n\n        {\n          type: \"switch-case\",\n          order: [[\"condition\"], [\"scope\"]],\n        },\n\n        {\n          type: \"switch-case-default\",\n          order: [[\"scope\"]],\n        },\n\n        {\n          type: \"for\",\n          order: [\n            [\"condition\", [\"conditionSeparator\", \"conditionSeparator\"]],\n            [\"scope\"],\n          ],\n        },\n\n        {\n          type: \"while\",\n          order: [[\"condition\"], [\"scope\"]],\n        },\n\n        {\n          type: \"do\",\n          order: [[\"scope\"]],\n          next: [\"do-while\"],\n        },\n\n        {\n          type: \"do-while\",\n          order: [[\"condition\"]],\n          prev: [\"do\"],\n        },\n      ],\n      constructs: [\n        {\n          name: \"if\",\n          type: \"if\",\n          conditionStart: \"(\",\n          conditionEnd: \")\",\n          scopeStart: \"(\",\n          scopeEnd: \")\",\n        },\n\n        {\n          name: \"else-if\",\n          type: \"else-if\",\n          conditionStart: \"(\",\n          conditionEnd: \")\",\n          scopeStart: \"(\",\n          scopeEnd: \")\",\n          pre: [\"if\", \"else-if\"],\n        },\n\n        {\n          name: \"else\",\n          type: \"else\",\n          scopeStart: \"(\",\n          scopeEnd: \")\",\n          pre: [\"if\", \"else-if\"],\n        },\n\n        {\n          name: \"switch\",\n          type: \"switch\",\n          conditionStart: \"(\",\n          conditionEnd: \")\",\n          body: \"Case\",\n          scopeStart: \"(\",\n          scopeEnd: \")\",\n          \"end-body\": \"default\",\n        },\n\n        {\n          name: \"Case\",\n          type: \"switch-case\",\n          conditionStart: \"(\",\n          conditionEnd: \")\",\n          scopeStart: \"(\",\n          scopeEnd: \")\",\n          parent: \"switch\",\n        },\n\n        {\n          name: \"Default\",\n          type: \"switch-case-default\",\n          scopeStart: \"(\",\n          scopeEnd: \")\",\n          parent: \"switch\",\n        },\n\n        {\n          name: \"for\",\n          type: \"for\",\n          conditionStart: \"(\",\n          conditionEnd: \")\",\n          conditionSeparator: \"/\",\n          scopeStart: \"(\",\n          scopeEnd: \")\",\n        },\n\n        {\n          name: \"while\",\n          type: \"while\",\n          conditionStart: \"(\",\n          conditionEnd: \")\",\n          scopeStart: \"(\",\n          scopeEnd: \")\",\n        },\n\n        {\n          name: \"do\",\n          type: \"do\",\n          scopeStart: \"(\",\n          scopeEnd: \")\",\n          next: \"do-while\",\n        },\n\n        {\n          name: \"do-while\",\n          type: \"do-while\",\n          conditionStart: \"(\",\n          conditionEnd: \")\",\n        },\n      ],\n      specialSymbols: [\"#\", \":\", \"!\", \"/\", \"(\", \")\"],\n    });\n\n    fetch(`http://localhost:5001/api/upload`, {\n      headers: {\n        'Accept': 'application/json, text/plain, */*',\n        'Content-Type': 'application/json'\n      },\n      method: \"POST\",\n      body: JSON.stringify({jsonData}),\n    }).then((response) => {\n      response.json().then((val) => {\n        console.log(\"Uploaded\");\n        console.log(val);\n      })\n      .catch((err)=>{\n        console.log(err);\n      });\n    })\n    .catch((err)=>{\n      console.log(err);\n    });\n\n    fetch(`http://localhost:5001/api/process`, {\n      headers: {\n        'Accept': 'application/json, text/plain, */*',\n        'Content-Type': 'application/json'\n      },\n      method: \"POST\",\n      body: JSON.stringify({code}),\n    }).then((response) => {\n      response.json().then((val) => {\n        if (val.valid) {\n          onValidate2();\n        } else {\n          setValidated(false);\n          setDownloadable(false);\n          toast({\n            title: \"Error! Please follow conditional syntax.\",\n            status: \"error\",\n            duration: 5000,\n            isClosable: true,\n            position: \"top-right\",\n          });\n          return;\n        }\n      })\n      .catch((err)=>{\n        console.log(err);\n      });\n    })\n    .catch((err)=>{\n      console.log(err);\n    });\n  };\n\n  const handleValidateButton = () => {\n    showValidateHandler(true);\n    setValidated(true);\n  };\n\n  const saveButton = async () => {\n    // console.log(\"saving\");\n    try{\n      const res = await Axios.post(\n        \"http://localhost:5002/api/custom/upload-custom-rule\", {\n          headers: {\n            \"Content-Type\": \"application/json\", \n            token: jwttoken \n          },\n          data: {\n            project_id: projectid,\n            rulename: rulename,\n            data_name: btoa(data),\n            description: description\n          }\n        }\n      );\n      toast({\n        title: \"Behaviour Added\",\n        status: \"success\",\n        duration: 5000,\n        isClosable: true,\n        position: \"top-right\",\n      });\n\n      const res_rules = await Axios.post(\n        \"http://localhost:5002/api/custom/get-custom-rules\", {\n          headers: {\n            \"Content-Type\": \"application/json\", \n            token: jwttoken \n          },\n          data: {\n            project_id: projectid\n          }\n        }\n      );\n      setRuleList(res_rules.data);\n\n      setdata('');\n      setRulename('');\n      setDescription('');\n      setValidated(false);\n    } catch(err){\n      console.log(err);\n    }\n  }\n\n  const flushButton = () => {\n    console.log('flushed everything!');\n    setValidated(false);\n    setdata('');\n    setRulename('');\n    setDescription('');\n  }\n\n  const onNextStep = async () => {\n    if (!isJson(data) && activeStep !== 3) {\n      setValidated(false);\n      toast({\n        title: \"JSON Syntax is not correct\",\n        status: \"error\",\n        duration: 5000,\n        isClosable: true,\n        position: \"top\",\n      });\n      return;\n    }\n    setSubmitting(true);\n    let url = \"\";\n    if (activeStep === 0)\n      url = `http://localhost:5002/api/project/${projectid}/scene`;\n    else if (activeStep === 1)\n      url = `http://localhost:5002/api/project/${projectid}/asset`;\n    else if (activeStep === 2)\n      url = `http://localhost:5002/api/project/${projectid}/action`;\n    else if (activeStep === 3)\n      url = `http://localhost:5002/api/project/${projectid}/custom`;\n    else if (activeStep === 4)\n      url = `http://localhost:5002/api/project/${projectid}/timeline`;\n    try {\n      const requestOptions = {\n        headers: { \"Content-Type\": \"application/json\", token: jwttoken },\n      };\n      const res = await Axios.patch(url, { data }, requestOptions);\n\n      toast({\n        title: res.data.message,\n        status: \"success\",\n        duration: 5000,\n        isClosable: true,\n        position: \"top-right\",\n      });\n    } catch (error) {\n      toast({\n        title: \"Something went wrong 3\",\n        status: \"error\",\n        duration: 10000,\n        isClosable: true,\n        position: \"top\",\n      });\n      console.log(error);\n    }\n    setSubmitting(false);\n    nextStep();\n  };\n\n  const handel_name = (e) => {\n    setRulename(e.target.value);\n  };\n\n  const handel_description = (e) => {\n    setDescription(e.target.value);\n  };\n\n  const onFinish = async () => {\n    if (!isJson(data)) {\n      setValidated(false);\n      toast({\n        title: \"JSON Syntax is not correct\",\n        status: \"error\",\n        duration: 5000,\n        isClosable: true,\n        position: \"top\",\n      });\n      return;\n    }\n    setSubmitting(true);\n    let url = \"\";\n    if (activeStep === 0)\n      url = `http://localhost:5002/api/project/${projectid}/scene`;\n    else if (activeStep === 1)\n      url = `http://localhost:5002/api/project/${projectid}/asset`;\n    else if (activeStep === 2)\n      url = `http://localhost:5002/api/project/${projectid}/action`;\n    else if (activeStep === 3)\n      url = `http://localhost:5002/api/project/${projectid}/custom`;\n    else if (activeStep === 4)\n      url = `http://localhost:5002/api/project/${projectid}/timeline`;\n    try {\n      const requestOptions = {\n        headers: { \"Content-Type\": \"application/json\", token: jwttoken },\n      };\n      const res = await Axios.patch(url, { data }, requestOptions);\n\n      toast({\n        title: res.data.message,\n        status: \"success\",\n        duration: 5000,\n        isClosable: true,\n        position: \"top-right\",\n      });\n    } catch (error) {\n      toast({\n        title: \"Something went wrong 2\",\n        status: \"error\",\n        duration: 10000,\n        isClosable: true,\n        position: \"top\",\n      });\n      console.log(error);\n    }\n    setSubmitting(false);\n    onOpen();\n  };\n\n  return loading ? (\n    <>\n      <Flex\n        width={\"80vw\"}\n        height={\"90vh\"}\n        justifyContent=\"center\"\n        alignItems={\"center\"}\n      >\n        <Spinner\n          thickness=\"4px\"\n          speed=\"0.65s\"\n          emptyColor=\"gray.200\"\n          color=\"blue.500\"\n          size=\"xl\"\n        />\n      </Flex>\n    </>\n  ) : (\n    <>\n      {activeStep !== 3 ? (\n        <Grid templateColumns=\"repeat(6, 1fr)\" gap={4}>\n          <GridItem rowSpan={3} colSpan={1}>\n            <Flex flexDir={\"column\"} pr={20} pt={120}>\n            </Flex>\n          </GridItem>\n          <GridItem rowSpan={3} colSpan={3}>\n            <Flex py={4} alignItems={\"center\"} flexDir=\"column\">\n              <Flex marginTop={20} marginBottom={10}>\n                <AceEditor\n                  fontSize={16}\n                  showPrintMargin={true}\n                  showGutter={true}\n                  highlightActiveLine={true}\n                  setOptions={{\n                    enableBasicAutocompletion: true,\n                    enableLiveAutocompletion: true,\n                    enableSnippets: false,\n                    showLineNumbers: true,\n                    tabSize: 2,\n                  }}\n                  mode=\"json\"\n                  theme=\"terminal\"\n                  onChange={(newvalue, event) => {\n                    console.log(event);\n                    setdata(newvalue);\n                    console.log(data);\n                    setDownloadable(false);\n                  }}\n                  value={data}\n                  name=\"grammar-editor\"\n                  wrapEnabled\n                  height=\"40em\"\n                  width={\"40em\"}\n                />\n              </Flex>\n              <Stack py={4} direction=\"row\">\n                <Button\n                  colorScheme=\"yellow\"\n                  disabled={!data}\n                  onClick={onValidate}\n                >\n                  Validate_\n                </Button>\n                <Button\n                  colorScheme=\"green\"\n                  disabled={!downloadable}\n                  onClick={downloadTxtFile}\n                  leftIcon={<BiDownload />}\n                >\n                  Download File\n                </Button>\n              </Stack>\n\n              {activeStep === stepslen ? (\n                <Flex px={4} py={4} width=\"100%\" flexDirection=\"column\">\n                  <Heading fontSize=\"xl\" textAlign=\"center\">\n                    Woohoo! All steps completed!\n                  </Heading>\n                  <Button mx=\"auto\" mt={6} size=\"sm\" onClick={reset}>\n                    Reset\n                  </Button>\n                </Flex>\n              ) : (\n                <Flex width=\"100%\" justify=\"flex-end\">\n                  <Button\n                    isDisabled={activeStep === 0}\n                    mr={4}\n                    onClick={prevStep}\n                    size=\"sm\"\n                    variant={\"outline\"}\n                  >\n                    Prev\n                  </Button>\n                  {activeStep === stepslen - 1 ? (\n                    <Button\n                      size=\"sm\"\n                      onClick={onFinish}\n                      disabled={!validated}\n                      isLoading={submitting}\n                      colorScheme=\"green\"\n                      variant={\"outline\"}\n                    >\n                      Finish\n                    </Button>\n                  ) : (\n                    <Button\n                      size=\"sm\"\n                      onClick={onNextStep}\n                      disabled={!validated}\n                      isLoading={submitting}\n                      colorScheme=\"yellow\"\n                      variant={\"outline\"}\n                    >\n                      Next\n                    </Button>\n                  )}\n                </Flex>\n              )}\n            </Flex>\n          </GridItem>\n          {/* for errors */}\n          <GridItem rowSpan={3} colSpan={2} pt={120}>\n            <Flex flexDir={\"column\"} pl={20}>\n              {displayErrors.length > 0 ? (\n                <List spacing={2}>\n                  {displayErrors.map((e, i) => {\n                    let str = \"\";\n                    const splitarr = e.match(/(?:[^\\s\"]+|\"[^\"]*\")+/g);\n                    let Val;\n                    if (splitarr.length === 12) {\n                      splitarr.map(\n                        (m, i) => i !== 0 && i !== 10 && (str = str + \" \" + m)\n                      );\n                      Val = () => (\n                        <>\n                          <Text as=\"span\">\n                            <Text\n                              as=\"span\"\n                              fontWeight={\"bold\"}\n                              color={tipcolors[splitarr[10]]}\n                            >\n                              {splitarr[0]}\n                            </Text>\n                            <Text as=\"span\">{str}</Text>\n                            <Text\n                              as=\"span\"\n                              fontWeight={\"bold\"}\n                              color={tipcolors[splitarr[10]]}\n                            >\n                              {\" \" + splitarr[10]}\n                            </Text>\n                          </Text>\n                        </>\n                      );\n                    }\n                    if (splitarr.length === 7 || splitarr.length === 8) {\n                      splitarr.map((m, i) => i !== 0 && (str = str + \" \" + m));\n                      Val = () => (\n                        <>\n                          <Text as=\"span\">\n                            <Text\n                              as=\"span\"\n                              fontWeight={\"bold\"}\n                              color={\"teal.400\"}\n                            >\n                              {splitarr[0]}\n                            </Text>\n                            <Text as=\"span\">{str}</Text>\n                          </Text>\n                        </>\n                      );\n                    }\n                    if (splitarr.length === 11) {\n                      splitarr.map(\n                        (m, i) => i !== 0 && i !== 10 && (str = str + \" \" + m)\n                      );\n                      Val = () => (\n                        <>\n                          <Text as=\"span\">\n                            <Text\n                              as=\"span\"\n                              fontWeight={\"bold\"}\n                              color={tipcolors[splitarr[10]]}\n                            >\n                              {splitarr[0]}\n                            </Text>\n                            <Text as=\"span\">{str}</Text>\n                            <Text\n                              as=\"span\"\n                              fontWeight={\"bold\"}\n                              color={tipcolors[splitarr[10]]}\n                            >\n                              {\" \" + splitarr[10]}\n                            </Text>\n                          </Text>\n                        </>\n                      );\n                    }\n                    return (\n                      <ListItem key={i}>\n                        <ListIcon as={FaExclamationCircle} color=\"red.500\" />\n                        {<Val />}\n                      </ListItem>\n                    );\n                  })}\n                </List>\n              ) : (\n                <></>\n              )}\n            </Flex>\n          </GridItem>\n          <Modal onClose={onClose} isOpen={isOpen} isCentered>\n            <ModalOverlay />\n            <ModalContent>\n              <ModalCloseButton />\n              <ModalBody>\n                <Box textAlign=\"center\" py={10} px={6}>\n                  <CheckCircleIcon boxSize={\"50px\"} color={\"green.500\"} />\n                  <Heading as=\"h2\" size=\"xl\" mt={6} mb={2}>\n                    JSON Validation Successful!\n                  </Heading>\n                  <Text color={\"gray.500\"}>\n                    We have made sure that your data is free from any data-types\n                    or syntax errors. Happy Development!\n                  </Text>\n                </Box>\n              </ModalBody>\n              <ModalFooter>\n                <Button onClick={() => {\n                  onClose();\n                  // history.push(\"/projects\");\n                }}>Close</Button>\n              </ModalFooter>\n            </ModalContent>\n          </Modal>\n        </Grid>\n      ) : (\n        <>\n          <Tabs isFitted variant=\"unstyled\" marginTop={10}>\n            <TabList mb=\"1em\">\n              <Tab _selected={{ color: 'white', bg: 'blue.300' }}>Write</Tab>\n              <Tab _selected={{ color: 'white', bg: 'blue.300' }}>Read</Tab>\n              <Tab _selected={{ color: 'white', bg: 'blue.300' }}>Publish</Tab>\n            </TabList>\n            <TabPanels>\n              <TabPanel>\n                <div>\n                  <Grid templateColumns=\"repeat(8, 1fr)\" gap={2}>\n                    <GridItem rowSpan={8} colStart={1} colEnd={8}>\n                      <Flex py={4} alignItems={\"center\"} flexDir=\"column\">\n                        <Flex>\n                          <Text fontSize='xl'>Name:</Text>\n                          <FormControl\n                            paddingRight={10}\n                            paddingLeft={2}\n                          >\n                            <Input\n                              value={rulename}\n                              onChange={handel_name}\n                              placeholder=\"Name\"\n                              size=\"sm\"\n                            ></Input>\n                          </FormControl>\n                          <Text fontSize='xl'>Description:</Text>\n                          <FormControl\n                            paddingLeft={2}\n                          >\n                            <Input\n                              value={description}\n                              onChange={handel_description}\n                              placeholder=\"Description\"\n                              size=\"sm\"\n                            ></Input>\n                          </FormControl>\n                        </Flex>\n                        <Flex flexDir=\"row\" paddingTop={10} paddingLeft={35} marginLeft={20}>\n                          <Box\n                            as=\"pane\"\n                            bg=\"grey\"\n                            _dark={{\n                              bg: \"gray.800\",\n                            }}\n                            h=\"32em\"\n                            w=\"12em\"\n                          >\n                            <Box \n                              as=\"pane\"\n                              zIndex=\"fixed\"\n                              h=\"300px\"\n                              overflowX=\"hidden\"\n                              overflowY=\"auto\"\n                              w=\"400px\"\n                              colorScheme=\"yellow\"\n                            >\n                              <Flex px=\"4\" pb=\"3\" pt=\"5\" align=\"center\">\n                                <center>\n                                  <Text\n                                    fontSize=\"2xl\"\n                                    ml=\"2\"\n                                    color=\"white\"\n                                    fontWeight=\"semibold\"\n                                  >\n                                    Semantics\n                                  </Text>\n                                </center>\n                              </Flex>\n                              <Flex\n                                direction=\"column\"\n                                as=\"nav\"\n                                fontSize=\"lg\"\n                                color=\"white\"\n                                aria-label=\"Main Navigation\"\n                                margin={5}\n                                marginTop={2}\n                                marginLeft={7}\n                              >\n                                { semantics.elements.map((p) => (\n                                    <a\n                                      onClick={() => {\n                                        console.log(position);\n                                        var newdata_part1 = data.slice(0,position);\n                                        var newdata_part2 = data.slice(position);\n                                        setdata(newdata_part1 + p.editorDisplay + newdata_part2);\n                                      }}\n                                      color=\"white\"\n                                    >\n                                      <span>{p.displayName}</span>\n                                    </a>\n                                  ))\n                                }\n                              </Flex>\n                            </Box>\n                          </Box>\n                          <Flex marginLeft={10} marginRight={10} marginBottom={10}>\n                            <AceEditor\n                              fontSize={16}\n                              showPrintMargin={true}\n                              showGutter={true}\n                              highlightActiveLine={true}\n                              setOptions={{\n                                enableBasicAutocompletion: true,\n                                enableLiveAutocompletion: true,\n                                enableSnippets: false,\n                                showLineNumbers: true,\n                                tabSize: 2,\n                              }}\n                              mode=\"json\"\n                              theme=\"terminal\"\n                              onChange={(newvalue, event) => {\n                                fl = false;\n                                setdata(newvalue);\n                                setDownloadable(false);\n                              }}\n                              onCursorChange={(newplace)=>{\n                                convertPointer({\"row\":newplace.cursor.row, \"column\": newplace.cursor.column}, newplace.cursor.document.$lines);\n                              }}\n                              onSelectionChange={(e)=>{\n                                convertPointer({\"row\": e.cursor.row, \"column\": e.cursor.column}, e.doc.$lines);\n                              }}\n                              value={data}\n                              name=\"grammar-editor\"\n                              wrapEnabled\n                              height={\"40em\"}\n                              width={\"40em\"}\n                              id=\"editor\"\n                            />\n                          </Flex>\n                          <Box\n                            as=\"pane\"\n                            bg=\"grey\"\n                            _dark={{\n                              bg: \"gray.800\",\n                            }}\n                            h=\"32em\"\n                            w=\"18em\"\n                          >\n                            <Box // navbar\n                              as=\"pane\"\n                              zIndex=\"fixed\"\n                              h=\"300px\"\n                              pb=\"10\"\n                              overflowX=\"hidden\"\n                              overflowY=\"auto\"\n                              bg=\"grey\"\n                              w=\"400px\"\n                            >\n                              <Flex px=\"4\" pb=\"3\" pt=\"5\" align=\"center\">\n                                <center>\n                                  <Text\n                                    fontSize=\"2xl\"\n                                    ml=\"2\"\n                                    color=\"white\"\n                                    fontWeight=\"semibold\"\n                                  >\n                                    Actions\n                                  </Text>\n                                </center>\n                              </Flex>\n                              <Flex\n                                direction=\"column\"\n                                as=\"nav\"\n                                fontSize=\"lg\"\n                                color=\"white\"\n                                aria-label=\"Main Navigation\"\n                                margin={5}\n                                marginTop={2}\n                                marginLeft={7}\n                              >\n                                {flag ? (\n                                  rules.map((p) => (\n                                    <a\n                                      onClick={() => {\n                                        var newdata_part1 = data.slice(0,position);\n                                        var newdata_part2 = data.slice(position);\n                                        setdata(newdata_part1 + p + newdata_part2);\n                                      }}\n                                      color=\"white\"\n                                    >\n                                      {p}\n                                    </a>\n                                  ))\n                                ) : (\n                                  <>\n                                    <Text>No recent files...</Text>\n                                  </>\n                                )}\n                              </Flex>\n                            </Box>\n                          </Box>\n                        </Flex>\n                        <Stack py={4} direction=\"row\">\n                          <Button\n                            colorScheme=\"yellow\"\n                            disabled={!(data && rulename && description)}\n                            onClick={() => {\n                              handleValidateButton();\n                              setSeed(Math.random());\n                            }}\n                          >\n                            Validate\n                          </Button>\n                          <Button\n                            colorScheme=\"green\"\n                            disabled={!validated}\n                            onClick={() => {\n                              saveButton();\n                            }}\n                          >\n                            Save\n                          </Button>\n                          <Button\n                            colorScheme=\"red\"\n                            disabled={!(data || rulename || description)}\n                            onClick={() => {\n                              flushButton();\n                            }}\n                          >\n                            Flush\n                          </Button>\n                        </Stack>\n                        {activeStep === stepslen ? (\n                          <Flex\n                            px={4}\n                            py={4}\n                            width=\"100%\"\n                            flexDirection=\"column\"\n                          >\n                            <Heading fontSize=\"xl\" textAlign=\"center\">\n                              Woohoo! All steps completed!\n                            </Heading>\n                            <Button mx=\"auto\" mt={6} size=\"sm\" onClick={reset}>\n                              Reset\n                            </Button>\n                          </Flex>\n                        ) : (\n                          <Flex width=\"100%\" justify=\"flex-end\">\n                            <Button\n                              isDisabled={activeStep === 0}\n                              mr={4}\n                              onClick={prevStep}\n                              size=\"sm\"\n                              variant={\"outline\"}\n                            >\n                              Prev\n                            </Button>\n                          </Flex>\n                        )}\n                      </Flex>\n                    </GridItem>\n                    {/* for errors */}\n                    <GridItem rowSpan={3} colSpan={2} pt={120}>\n                      <Flex flexDir={\"column\"} pl={20}>\n                        {displayErrors.length > 0 ? (\n                          <List spacing={2}>\n                            {displayErrors.map((e, i) => {\n                              let str = \"\";\n                              const splitarr = e.match(/(?:[^\\s\"]+|\"[^\"]*\")+/g);\n                              let Val;\n                              if (splitarr.length === 12) {\n                                splitarr.map(\n                                  (m, i) =>\n                                    i !== 0 && i !== 10 && (str = str + \" \" + m)\n                                );\n                                Val = () => (\n                                  <>\n                                    <Text as=\"span\">\n                                      <Text\n                                        as=\"span\"\n                                        fontWeight={\"bold\"}\n                                        color={tipcolors[splitarr[10]]}\n                                      >\n                                        {splitarr[0]}\n                                      </Text>\n                                      <Text as=\"span\">{str}</Text>\n                                      <Text\n                                        as=\"span\"\n                                        fontWeight={\"bold\"}\n                                        color={tipcolors[splitarr[10]]}\n                                      >\n                                        {\" \" + splitarr[10]}\n                                      </Text>\n                                    </Text>\n                                  </>\n                                );\n                              }\n\n                              if (\n                                splitarr.length === 7 ||\n                                splitarr.length === 8\n                              ) {\n                                splitarr.map(\n                                  (m, i) => i !== 0 && (str = str + \" \" + m)\n                                );\n                                Val = () => (\n                                  <>\n                                    <Text as=\"span\">\n                                      <Text\n                                        as=\"span\"\n                                        fontWeight={\"bold\"}\n                                        color={\"teal.400\"}\n                                      >\n                                        {splitarr[0]}\n                                      </Text>\n                                      <Text as=\"span\">{str}</Text>\n                                    </Text>\n                                  </>\n                                );\n                              }\n\n                              if (splitarr.length === 11) {\n                                splitarr.map(\n                                  (m, i) =>\n                                    i !== 0 && i !== 10 && (str = str + \" \" + m)\n                                );\n                                Val = () => (\n                                  <>\n                                    <Text as=\"span\">\n                                      <Text\n                                        as=\"span\"\n                                        fontWeight={\"bold\"}\n                                        color={tipcolors[splitarr[10]]}\n                                      >\n                                        {splitarr[0]}\n                                      </Text>\n                                      <Text as=\"span\">{str}</Text>\n                                      <Text\n                                        as=\"span\"\n                                        fontWeight={\"bold\"}\n                                        color={tipcolors[splitarr[10]]}\n                                      >\n                                        {\" \" + splitarr[10]}\n                                      </Text>\n                                    </Text>\n                                  </>\n                                );\n                              }\n\n                              return (\n                                <ListItem key={i}>\n                                  <ListIcon\n                                    as={FaExclamationCircle}\n                                    color=\"red.500\"\n                                  />\n                                  {<Val />}\n                                </ListItem>\n                              );\n                            })}\n                          </List>\n                        ) : (\n                          <></>\n                        )}\n                      </Flex>\n                    </GridItem>\n                  </Grid>\n                </div>\n              </TabPanel>\n              <TabPanel> \n                <div>\n                  <Grid templateColumns=\"repeat(6, 1fr)\" gap={2}>\n                    <GridItem rowSpan={8} colStart={1} colEnd={8}>\n                      <Flex py={4} alignItems={\"center\"} flexDir=\"column\">\n                        <Text fontSize='3xl'>Select a behaviour to view its contents.</Text>\n                        <Flex flexDir=\"row\" paddingTop={10} paddingLeft={35} marginLeft={20}>\n                          <Stack direction=\"column\" marginRight={10}>\n                            <Flex>\n                              <Text fontSize='xl'>Name:</Text>\n                              <FormControl paddingLeft={2}>\n                                <Text fontSize='xl'>\n                                  {rule.rulename}\n                                </Text>\n                              </FormControl>\n                            </Flex>\n                            <Flex paddingTop={2}>\n                              <Text fontSize='xl'>Description:</Text>\n                              <FormControl paddingLeft={2}>\n                                <Text fontSize='xl'>\n                                  {rule.description}\n                                </Text>\n                              </FormControl>\n                            </Flex>\n                            <Flex paddingTop={2}>\n                              <Text fontSize='xl'>Logic:</Text>\n                            </Flex>\n                            <Flex paddingLeft={12}>\n                              <AceEditor\n                                fontSize={20}\n                                showPrintMargin={true}\n                                showGutter={true}\n                                highlightActiveLine={true}\n                                setOptions={{\n                                  enableBasicAutocompletion: true,\n                                  enableLiveAutocompletion: true,\n                                  enableSnippets: false,\n                                  showLineNumbers: true,\n                                  tabSize: 2,\n                                }}\n                                mode=\"json\"\n                                theme=\"terminal\"\n                                // value={(rule.data_name != null ? atob(rule.data_name) : rule.data_name)}\n                                value={rule.data_name}\n                                name=\"grammar-editor\"\n                                wrapEnabled\n                                height={\"28em\"}\n                                width={\"32em\"}\n                                readOnly={true}\n                              />\n                            </Flex>\n                          </Stack>\n                          <Box\n                            as=\"pane\"\n                            bg=\"grey\"\n                            _dark={{\n                              bg: \"gray.800\",\n                            }}\n                            h=\"36em\"\n                            w=\"16em\"\n                          >\n                            <Box // navbar\n                              as=\"pane\"\n                              zIndex=\"fixed\"\n                              h=\"300px\"\n                              pb=\"10\"\n                              overflowX=\"hidden\"\n                              overflowY=\"auto\"\n                              bg=\"grey\"\n                              w=\"400px\"\n                            >\n                              <Flex px=\"4\" pb=\"3\" pt=\"5\" align=\"center\">\n                                <center>\n                                  <Text\n                                    fontSize=\"2xl\"\n                                    ml=\"2\"\n                                    color=\"white\"\n                                    fontWeight=\"semibold\"\n                                  >\n                                    Behaviours\n                                  </Text>\n                                </center>\n                              </Flex>\n                              <Flex\n                                direction=\"column\"\n                                as=\"nav\"\n                                fontSize=\"md\"\n                                color=\"white\"\n                                aria-label=\"Main Navigation\"\n                                margin={5}\n                              >\n                                {rule_list.length > 0 ? (\n                                  rule_list.map((p) => (\n                                    <Text fontSize='xl'>\n                                      <a\n                                        onClick={() => {\n                                          setRule(p);\n                                          // if (perdata.length > 0) {\n                                          //   setPerdata(\n                                          //     perdata +\n                                          //     `,{\"rulename\":\"${p.rulename\n                                          //     }\", \"description\":\"${p.description\n                                          //     }\",\"logic\": \"${btoa(\n                                          //       p.data_name\n                                          //     )}\"}\\n`\n                                          //   );\n                                          // } else {\n                                          //   setPerdata(\n                                          //     perdata +\n                                          //     `{\"rulename\":\"${p.rulename\n                                          //     }\", \"description\":\"${p.description\n                                          //     }\",\"logic\": \"${btoa(\n                                          //       p.data_name\n                                          //     )}\"}\\n`\n                                          //   );\n                                          // }\n                                        }}\n                                        color=\"white\"\n                                      >\n                                        {p.rulename}\n                                      </a>\n                                    </Text>\n                                  ))\n                                ) : (\n                                  <>\n                                    <Text>No recent files!</Text>\n                                  </>\n                                )}\n                              </Flex>\n                            </Box>\n                          </Box>\n                        </Flex>\n                        {/* <Stack py={4} direction=\"row\">\n                          <Button\n                            colorScheme=\"yellow\"\n                            onClick={() => {\n                              if (!fl) {\n                                for (let i = 0; i < rules.length; i++) {\n                                  rules[i] = `\"` + rules[i] + `\"`;\n                                }\n                                fl = true;\n                              }\n                              setdata(\n                                `{\"objects_used\":[${rules}],\"rules\":[${perdata}]}`\n                              );\n                              toast({\n                                title:\n                                  \"JSON is validated, click next to continue\",\n                                status: \"success\",\n                                duration: 5000,\n                                isClosable: true,\n                                position: \"top-right\",\n                              });\n                              console.log(data);\n                            }}\n                            disabled={!perdata}\n                            isLoading={submitting}\n                          >\n                            Validate\n                          </Button>\n                          <Button\n                            onClick={() => {\n                              setPerdata(\"\");\n                              // fl = false;\n                            }}\n                            // disabled={!validated || !grammarid}\n                            isLoading={submitting}\n                            colorScheme=\"red\"\n                          // variant={\"outline\"}\n                          >\n                            Flush\n                          </Button>\n                          <Button\n                            onClick={() => setSeed(Math.random())}\n                            // disabled={!validated || !grammarid}\n                            isLoading={submitting}\n                            colorScheme=\"green\"\n                          // variant={\"outline\"}\n                          >\n                            Update\n                          </Button>\n                          <Button\n                            colorScheme=\"green\"\n                            disabled={!downloadable}\n                            onClick={downloadTxtFile}\n                            leftIcon={<BiDownload />}\n                          >\n                            Download File\n                          </Button>\n                        </Stack>\n                        <Flex width=\"100%\" justify=\"flex-end\">\n                          <Button\n                            size=\"sm\"\n                            onClick={onNextStep}\n                            // disabled={!validated || !grammarid}\n                            isLoading={submitting}\n                            colorScheme=\"yellow\"\n                            variant={\"outline\"}\n                          >\n                            Next\n                          </Button>\n                        </Flex> */}\n                      </Flex>\n                    </GridItem>\n                  </Grid>\n                </div>\n              </TabPanel>\n              <TabPanel>\n                <div>\n                  <Grid templateColumns=\"repeat(8, 1fr)\" gap={2}>\n                    <GridItem rowSpan={8} colStart={1} colEnd={8}>\n                      <Flex py={4} alignItems={\"center\"} flexDir={\"column\"}>\n                        <Text fontSize='3xl'>Drag and drop the items to include in CUSTOM JSON.</Text>\n                        <Flex flexDir=\"row\" paddingTop={10} paddingLeft={35} marginLeft={20}>\n                          {/* 1. space to hold items */}\n                          {/* 2. behaviours to select */}\n                        </Flex>\n                        \n                      </Flex>\n                    </GridItem>\n                  </Grid>\n                </div>\n              </TabPanel>\n            </TabPanels>\n          </Tabs>\n        </>\n      )}\n    </>\n  );\n};\n\nconst CustomCard = React.forwardRef(({ children, ...rest }, ref) => (\n  <Box p=\"1\">\n    <Tag ref={ref} {...rest}>\n      {children}\n    </Tag>\n  </Box>\n));\n\nexport default ProjectPageContent;\n"]},"metadata":{},"sourceType":"module"}